<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>mkvmerge -- 将多媒体流合并到 Matroska 文件中</title>
      <link rel="stylesheet" type="text/css" href="mkvtoolnix-doc.css">
   </head>
   <body>
      <div class="heading">mkvmerge -- 将多媒体流合并到 <span class="productname">Matroska</span><sup>(tm)</sup> 文件中
      </div>
      <hr>
      <div id="toc" class="toc">
         <h1>Table of contents</h1>
         <ul>
            <li><a href="#mkvmerge.synopsis">1. 概要</a></li>
            <li><a href="#mkvmerge.description">2. 说明</a></li>
            <li><a href="#mkvmerge.usage">3. 用法</a></li>
            <li><a href="#mkvmerge.option_order">4. 选项顺序</a></li>
            <li><a href="#mkvmerge.examples">5. 示例</a></li>
            <li><a href="#mkvmerge.track_ids">6. 轨道 ID</a></li>
            <li><a href="#mkvmerge.text_files_and_charsets">7. 文本文件与字符集转换</a></li>
            <li><a href="#mkvmerge.option_files">8. 选项文件</a></li>
            <li><a href="#mkvmerge.subtitles">9. 字幕</a></li>
            <li><a href="#mkvmerge.file_linking">10. 文件链接</a></li>
            <li><a href="#mkvmerge.default_values">11. 默认值</a></li>
            <li><a href="#mkvmerge.attachments">12. 附件</a></li>
            <li><a href="#mkvmerge.chapters">13. 章节</a></li>
            <li><a href="#mkvmerge.tags">14. 标签</a></li>
            <li><a href="#mkvmerge.segmentinfo">15. 剪辑信息 XML 文件</a></li>
            <li><a href="#mkvmerge.file_layout">16. Matroska 文件规划</a></li>
            <li><a href="#mkvmerge.external_timestamp_files">17. 外部时间戳文件</a></li>
            <li><a href="#mkvmerge.exit_codes">18. 退出代码</a></li>
            <li><a href="#mkvmerge.environment_variables">19. 环境变量</a></li>
            <li><a href="#mkvmerge.seealso">20. 参阅</a></li>
            <li><a href="#mkvmerge.www">21. 网络</a></li>
         </ul>
      </div>
      <div class="content">
         <h1><a name="mkvmerge.synopsis">1. 概要</a></h1>
         
         
         <div class="cmdsynopsis"><span class="commandname">mkvmerge</span> 全局选项 {-o 输出文件} 选项1 {文件1} 选项2 {文件2} @选项文件.json
         </div>
         
         <h1><a name="mkvmerge.description">2. 说明</a></h1>
         
         
         <p>
            本程序可读取多个媒体文件并将它们的数据流（全部或部分）合并到 <span class="productname">Matroska</span><sup>(tm)</sup> 文件中去；参见 <a href="http://www.matroska.org/">Matroska 网站</a>。
            
         </p>
         
         
         <div class="important">
            <p class="important-title">Important:</p>
            
            <p>
               命令行选项的顺序很重要。若您对程序还不熟悉，请阅读 <a href="#mkvmerge.option_order">"选项顺序"</a> 段落。
               
            </p>
            
         </div>
         
         
         <h2><a name="d4e127">2.1. 全局选项</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="option">-v</span>, <span class="option">--verbose</span></td>
                  <td>
                     
                     <p>增强“详细”程度。</p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-q</span>, <span class="option">--quiet</span></td>
                  <td>
                     
                     <p>取消状态输出。</p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-o</span>, <span class="option">--output</span> <span class="parameter">文件名</span></td>
                  <td>
                     
                     <p>写至文件 <span class="parameter">文件名</span>。如果使用了切割功能，对此参数的处理将有所不同。 详情请参阅关于 <a href="#mkvmerge.description.split">--split</a> 选项的说明。
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-w</span>, <span class="option">--webm</span></td>
                  <td>
                     
                     <p>创建 WebM 兼容文件。若输出文件的扩展名为 "webm" 则将自动打开本选项。此模式将实施一些限制。只允许使用编解码器为
                        VP8、VP9 的视频轨道及 Opus、Vorbis 的音频轨道。DocType 头部项目将改为 "webm"。
                        
                     </p>
                     
                     
                     <p>
                        对于章节与标签，只允许使用一部分元素。<span class="productname">mkvmerge</span>(1) 将自动移除规范所不允许的元素。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.title"><span class="option">--title</span> <span class="parameter">标题</span></a></td>
                  <td>
                     
                     <p>设置整个生成文件的标题，比如电影名称。</p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--default-language</span> <span class="parameter">语言代码</span></td>
                  <td>
                     
                     <p>设置默认语言代码，用于没有使用 <a href="#mkvmerge.description.language">--language</a>
                        选项设置语言的轨道以及源容器未提供语言值的轨道。
                     </p>
                     
                     
                     <p>默认的语言代码为「<span class="literal">und</span>」，即「undefined（未定义）」。
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e262">2.2. 剪辑信息处理 (全局选项)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="option">--segmentinfo</span> <span class="parameter">文件名.xml</span></td>
                  <td>
                     
                     <p>
                        从 <span class="abbrev">XML</span> 文件中读取剪辑信息。此文件可以包含剪辑族的 <span class="abbrev">UID</span>、剪辑的
                        <span class="abbrev">UID</span>、上一剪辑以及下一剪辑的 <span class="abbrev">UID</span> 元素。示例文件以及
                        <span class="abbrev">DTD</span> 已包含在 MKVToolNix 发布包中。
                        
                     </p>
                     
                     
                     <p>
                        详情请参见下文关于 <a href="#mkvmerge.segmentinfo">剪辑信息 XML 文件</a> 的段落。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--segment-uid</span> <span class="parameter">SID1,SID2,...</span></td>
                  <td>
                     
                     <p>
                        设定要使用的剪辑 UID。这是个逗号分割的 128 位 UID 列表，UID 为通常的格式: 十六进制数字，"0x"
                        前缀可选，空格可选，但必须恰好有 32 个数位。
                        
                     </p>
                     
                     
                     <p>
                        若 SID 以“=”开头，则其剩余部分将作为 Matroska 文件解析，将读取并使用该文件的剪辑 UID。
                        
                     </p>
                     
                     
                     <p>
                        创建的每个文件都包含一个剪辑，每个剪辑有一个剪辑 UID。如果指定的剪辑 UID 比创建的剪辑多，则多余的 UID 将被忽略。如果指定的 UID
                        比创建的剪辑少，则将随机创建 UID。
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e331">2.3. 章节与标签处理 (全局选项)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.chapter_language"><span class="option">--chapter-language</span> <span class="parameter">语言代码</span></a></td>
                  <td>
                     
                     <p>
                        设置各章节项的 ISO639-2 语言代码。 默认为 '<span class="literal">eng</span>'。 详情参见下文中关于 <a href="#mkvmerge.chapters">章节</a> 的段落。
                        
                     </p>
                     
                     
                     <p>
                        此选项可用于简单章节文件与包含章节但不含章节语言信息的输入文件，如 MP4 与 OGM 文件。
                        
                     </p>
                     
                     
                     <p>
                        本选项设置的语言也将用于 <a href="#mkvmerge.description.generate_chapters">--generate-chapters
                           选项</a> 所生成的章节。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.chapter_charset"><span class="option">--chapter-charset</span> <span class="parameter">字符集</span></a></td>
                  <td>
                     
                     <p>
                        设置简单章节文件所用的字符集，用以转为 UTF-8。关于 <span class="productname">mkvmerge</span>(1) 如何在字符集之间转换的说明请参见关于 <a href="#mkvmerge.text_files_and_charsets"> 文本文件与字符集</a> 的段落。
                        
                     </p>
                     
                     
                     <p>
                        此开关亦可应用到从特定容器类型，如 Ogg/OGM 和 MP4 文件中复制而来的章节。 详情参见下文关于章节的段落。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.chapter_sync"><span class="option">--chapter-sync</span>
                        <span class="parameter">d[,o[/p]]</span></a></td>
                  <td>
                     
                     <p>
                        将章节的时间戳平移 <span class="parameter">d</span> ms。您也可以使用 <span class="option">--sync</span>
                        选项操作特殊轨道 ID <span class="constant">-2</span> (参见 <a href="#mkvmerge.track_ids.special_ids">特殊轨道 ID</a> 段落)。
                        
                     </p>
                     
                     
                     <p>
                        <span class="parameter">o</span>/<span class="parameter">p</span>: 按
                        <span class="parameter">o</span>/<span class="parameter">p</span> 调整时间戳以修复线性偏移。如果省略
                        <span class="parameter">p</span> 则默认为 1。<span class="parameter">o</span> 与
                        <span class="parameter">p</span> 均可为浮点数。
                        
                     </p>
                     
                     
                     <p>
                        默认: 无手动同步校正 (与 <span class="parameter">d</span> = <span class="constant">0</span> 及
                        <span class="parameter">o</span>/<span class="parameter">p</span> = <span class="constant">1.0</span>
                        效果相同)。
                        
                     </p>
                     
                     
                     <p>
                        此选项可以对同一输入文件多次使用，通过每次选择不同轨道 ID 分别应用到多个轨道。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.generate_chapters"><span class="option">--generate-chapters</span> <span class="parameter">模式</span></a></td>
                  <td>
                     
                     <p>
                        <span class="productname">mkvmerge</span>(1) 可以自动创建章节。目前支持下述两种模式:
                        
                     </p>
                     
                     
                     <ul>
                        
                        <li>
                           
                           <p>
                              '<span class="literal">when-appending</span>'（追加文件时） – 文件开头为第一章，随后每追加一个文件便创建一个章节。
                              
                           </p>
                           
                           
                           <div class="note">
                              <p class="note-title">Note:</p>
                              
                              <p>
                                 <span class="productname">mkvmerge</span>(1) 要求存在视频轨或音频轨，方可确定新文件追加的时间。若混流一或多个视频轨，则将使用第一个轨道的参数。否则将使用第一个音频轨。
                                 
                              </p>
                              
                           </div>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              '<span class="literal">interval:</span><span class="parameter">指定时间</span>' – 该模式根据
                              <span class="parameter">指定时间</span> 所给出的固定时间间隔生成章节。参数的格式既可以为
                              <span class="parameter">HH:MM:SS.nnnnnnnnn</span> 的形式，也可以为数字后接单位
                              '<span class="literal">s</span>'、'<span class="literal">ms</span>' 或 '<span class="literal">us</span>'。
                              
                           </p>
                           
                           
                           <p>
                              示例: <span class="literal">--generate-chapters interval:45s</span>
                              
                           </p>
                           
                        </li>
                        
                     </ul>
                     
                     
                     <p>
                        新章节的名称由选项 <a href="#mkvmerge.description.generate_chapters_name_template">--generate-chapters-name-template</a>
                        控制。语言通过 <a href="#mkvmerge.description.chapter_language">--chapter-language</a>
                        设置，该选项必须出现在 <span class="option">--generate-chapters</span> 之前。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.generate_chapters_name_template"><span class="option">--generate-chapters-name-template</span> <span class="parameter">模板</span></a></td>
                  <td>
                     
                     <p>
                        该选项设置 <a href="#mkvmerge.description.generate_chapters">--generate-chapters</a>
                        选项所生成的章节名称的名称模板。若未使用该选项，则将使用默认值 '<span class="literal">第 &lt;NUM:2&gt; 章</span>'。
                        
                     </p>
                     
                     
                     <p>
                        模板中可以使用多个变量，这些变量将在生成章节时被实际值替代。字符串 '<span class="literal">&lt;NUM&gt;</span>'
                        将被章节号替代。字符串 '<span class="literal">&lt;START&gt;</span>' 将被章节的起始时间戳替代。
                        
                     </p>
                     
                     
                     <p>
                        字符串“<span class="literal">&lt;FILE_NAME&gt;</span>”与“<span class="literal">&lt;FILE_NAME_WITH_EXT&gt;</span>”
                        仅在为追加文件生成章节时被填充。它们会被替换为追加文件的名称，分别省略扩展名、包含扩展名。注意只会插入文件的基本名称与扩展名，不包括其目录或盘符。
                        
                     </p>
                     
                     
                     <p>
                        您可以以 '<span class="literal">&lt;NUM:位数&gt;</span>' 的形式指定章节编号的最少位数，如
                        '<span class="literal">&lt;NUM:3&gt;</span>'。最终的数字，若其位数小于指定位数，则将在开头补零。
                        
                     </p>
                     
                     
                     <p>
                        您可以以 <span class="literal">&lt;START:格式&gt;</span>的形式控制起始时间戳的格式。若未给出格式，则默认为
                        '<span class="literal">%H:%M:%S</span>'。有效的格式代码包括:
                        
                     </p>
                     
                     
                     <ul>
                        
                        <li>
                           
                           <p><span class="literal">%h</span> – 时
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%H</span> – 时（两位）
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%m</span> – 分
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%M</span> – 分（两位）
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%s</span> – 秒
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%S</span> – 秒（两位）
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%n</span> – 纳秒（九位）
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%&lt;1-9&gt;n</span> – 纳秒，精度最高为九位 (如 <span class="literal">%3n</span>
                              代表三位)
                           </p>
                           
                        </li>
                        
                     </ul>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--cue-chapter-name-format</span> <span class="parameter">格式</span></td>
                  <td>
                     
                     <p>
                        <span class="productname">mkvmerge</span>(1) 支持读取音频文件的 <span class="abbrev">CUE</span> 表单作为章节输入。<span class="abbrev">CUE</span>
                        表单中各索引项通常含有 <span class="varname">PERFORMER（表演者）</span> 与 <span class="varname">TITLE（标题）</span>
                        项。<span class="productname">mkvmerge</span>(1) 使用这两个字串构建章节名称。使用此选项可设定构建名称所用的格式。
                        
                     </p>
                     
                     
                     <p>
                        如果此选项未给定则 <span class="productname">mkvmerge</span>(1) 默认使用 '<span class="code">%p - %t</span>' 格式 (表演者, 后接空格, 一个破折号,
                        另一个空格以及标题)。
                        
                     </p>
                     
                     
                     <p>
                        如果给定了格式，则除了后续的标签字符以外都将被原样复制，标签字符将被进行下述替换:
                        
                     </p>
                     
                     
                     <ul>
                        
                        <li>
                           
                           <p><span class="parameter">%p</span> 被当前项的 <span class="varname">PERFORMER（表演者）</span> 字符串替代,
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="parameter">%t</span> 被当前项的 <span class="varname">TITLE（标题）</span> 字符串替代,
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="parameter">%n</span> 被当前轨道编号替代，此外
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="parameter">%N</span> 被当前轨道衬式编号（小于 10 则在前面加零）替代。
                           </p>
                           
                        </li>
                        
                     </ul>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--chapters</span> <span class="parameter">文件名</span></td>
                  <td>
                     
                     <p>
                        从文件 <span class="parameter">文件名</span> 读取章节信息。详情参阅下文关于 <a href="#mkvmerge.chapters">章节</a> 的段落。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.global_tags"><span class="option">--global-tags</span> <span class="parameter">文件名</span></a></td>
                  <td>
                     
                     <p>
                        从文件 <span class="parameter">文件名</span> 读取全局标签。详情参阅下文关于 <a href="#mkvmerge.tags">标签</a> 的段落。
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e842">2.4. 全局输出控制 (高级全局选项)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="option">--track-order</span>
                     <span class="parameter">FID1:TID1,FID2:TID2,...</span></td>
                  <td>
                     
                     <p>
                        此选项更改输入文件创建时轨道的顺序。变量为逗号分隔的成对的 ID 列。每对先包含有文件 ID
                        (<span class="parameter">FID1</span>)，即文件在命令行中的顺序，由 0 开始计数。第二个是在该文件中的轨道 ID
                        (<span class="parameter">TID1</span>)。 如果省去部分轨道的 ID，则这些轨道将在使用本选项给定的轨道创建之后创建。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--cluster-length</span> <span class="parameter">指令</span></td>
                  <td>
                     
                     <p>
                        限制每个簇中数据块的数量或数据的时长。<span class="parameter">指令</span> 参数可以是无单位的数字
                        <span class="parameter">n</span>，也可以是后缀有 '<span class="literal">ms</span>' 的
                        <span class="parameter">d</span>。
                        
                     </p>
                     
                     
                     <p>
                        如果未使用数字，<span class="productname">mkvmerge</span>(1) 将在每个簇中放置最多 <span class="parameter">n</span> 个数据块。最大块数是 65535。
                        
                     </p>
                     
                     
                     <p>
                        如果数字 <span class="parameter">d</span> 后缀有 '<span class="literal">ms</span>'，<span class="productname">mkvmerge</span>(1)
                        将在每个簇中放置最多 <span class="parameter">d</span> 毫秒的数据。<span class="parameter">d</span> 的最小值是
                        '<span class="literal">100ms</span>'，最大值是 '<span class="literal">32000ms</span>'。
                        
                     </p>
                     
                     
                     <p>
                        <span class="productname">mkvmerge</span>(1) 默认每簇最多放置 65535 个数据块或 5000ms 的数据。
                        
                     </p>
                     
                     
                     <p>
                        尝试定位到特定帧的程序只能直接定位到簇，然后需要读取整个簇（来完成定位）。因此创建较大的簇将导致定位不精确或缓慢。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_cues"><span class="option">--no-cues</span></a></td>
                  <td>
                     
                     <p>
                        让 <span class="productname">mkvmerge</span>(1) 不要创建或写入 cue 索引（ 可类比作 AVI 文件中的索引）。没有索引的 <span class="productname">Matroska</span><sup>(tm)</sup>
                        文件也能播放，但定位可能不精确且缓慢。仅当您确实强求空间或用作测试时使用此选项。请参阅可为各输入文件指定的 <a href="#mkvmerge.description.cues">--cues</a> 选项。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--clusters-in-meta-seek</span></td>
                  <td>
                     
                     <p>
                        告诉 <span class="productname">mkvmerge</span>(1) 在文件末尾创建包含所有簇的元定位元素。参阅关于 <a href="#mkvmerge.file_layout">Matroska 文件规划</a> 的段落。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--disable-lacing</span></td>
                  <td>
                     
                     <p>
                        禁用所有轨道的紧缩。这将增加文件大小，尤其是当有很多音频轨时。此选项不供日常之用。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--enable-durations</span></td>
                  <td>
                     
                     <p>
                        为所有块写入时长。这将增大文件尺寸，而且目前对播放器来说不提供任何额外的益处。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--disable-track-statistics-tags</span></td>
                  <td>
                     
                     <p>
                        通常 <span class="productname">mkvmerge</span>(1) 会为每条轨道写入特定的统计信息标签。若这类标签已存在，则将被覆盖。这些标签包括
                        <span class="constant">BPS</span>、<span class="constant">DURATION</span>、<span class="constant">NUMBER_OF_BYTES</span>
                        及 <span class="constant">NUMBER_OF_FRAMES</span>。
                        
                     </p>
                     
                     
                     <p>
                        启用本选项可阻止 <span class="productname">mkvmerge</span>(1) 写入这些标签或修改现有的同名标签。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.timestamp_scale"><span class="option">--timestamp-scale</span> <span class="parameter">系数</span></a></td>
                  <td>
                     
                     <p>
                        强制时间戳缩放系数为 <span class="parameter">系数</span>。有效值域为
                        <span class="constant">1000</span>..<span class="constant">10000000</span> 或特殊值
                        <span class="constant">-1</span>。
                        
                     </p>
                     
                     
                     <p>
                        通常 <span class="productname">mkvmerge</span>(1) 会使用数值 <span class="constant">1000000</span>，这样时间戳和时长的精度为
                        1ms。对于不包含视频轨但含有至少一条音频轨的文件，<span class="productname">mkvmerge</span>(1)
                        将自动选择一个时间戳缩放系数以使各轨的音频采样精度相同。这将引起更大的额外开销，但将允许更为精确的定位与提取。
                        
                     </p>
                     
                     
                     <p>
                        如果使用了特殊值 <span class="constant">-1</span>，即使有视频轨，<span class="productname">mkvmerge</span>(1) 也将使用采样精度。
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e1128">2.5. 文件切割、连接、追加及合并 (其他全局选项)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.split"><span class="option">--split</span> <span class="parameter">指令</span></a></td>
                  <td>
                     
                     <p>
                        在给定尺寸或时间之后切割输出文件。请注意，各轨道只能在关键帧之前的地方切割开来。因此实际切割点可能比用户指定的稍稍靠后些。
                        
                     </p>
                     
                     
                     <p>
                        目前 <span class="productname">mkvmerge</span>(1) 支持四种不同的模式。
                        
                     </p>
                     
                     
                     <ol>
                        
                        <li>
                           
                           <p>
                              按尺寸切割。
                              
                           </p>
                           
                           
                           <p>
                              语法: <span class="option">--split</span>
                              [<span class="literal">size:</span>]<span class="parameter">d</span>[k|m|g]
                              
                           </p>
                           
                           
                           <p>
                              示例: <span class="code">--split size:700m</span> 或者 <span class="code">--split 150000000</span>
                              
                           </p>
                           
                           
                           <p>
                              参数 <span class="parameter">d</span> 可以以
                              '<span class="literal">k</span>'、'<span class="literal">m</span>' 或 '<span class="literal">g</span>'
                              结尾，分别说明尺寸的单位为 KB、MB 或 GB。 否则假定单位为字节。 当前输出文件达到此尺寸限制后将开始输出新的文件。
                              
                           </p>
                           
                           
                           <p>
                              为兼顾兼容性，'<span class="literal">size:</span>' 前缀可以省略。
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              在一定时长后切割。
                              
                           </p>
                           
                           
                           <p>
                              语法: <span class="option">--split</span>
                              [<span class="literal">duration:</span>]<span class="parameter">HH:MM:SS.nnnnnnnnn</span>|<span class="parameter">d</span>s
                              
                           </p>
                           
                           
                           <p>
                              示例: <span class="code">--split duration:00:60:00.000</span> 或 <span class="code">--split 3600s</span>
                              
                           </p>
                           
                           
                           <p>
                              此参数可以用 <span class="parameter">HH:MM:SS.nnnnnnnnn</span> 的形式指定纳秒精度的时长，也可以是后接字母
                              '<span class="literal">s</span>' 的指定秒数时长的数字
                              <span class="parameter">d</span>。<span class="parameter">HH</span>
                              为小时数，<span class="parameter">MM</span> 为分钟数，<span class="parameter">SS</span>
                              为秒数，而<span class="parameter">nnnnnnnnn</span> 为纳秒数。 小时数与纳秒数均可省略。 小数点后最多可以有九位。
                              当前输出内容的时长达到此限制后将开始输出新的输出文件。
                              
                           </p>
                           
                           
                           <p>
                              为兼顾兼容性，'<span class="literal">duration:</span>' 前缀可以省略。
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              在指定时间戳后切割。
                              
                           </p>
                           
                           
                           <p>
                              语法: <span class="option">--split</span>
                              <span class="literal">timestamps:</span><span class="parameter">A</span>[,<span class="parameter">B</span>[,<span class="parameter">C</span>...]]
                              
                           </p>
                           
                           
                           <p>
                              示例: <span class="code">--split timestamps:00:45:00.000,01:20:00.250,6300s</span>
                              
                           </p>
                           
                           
                           <p>
                              参数
                              <span class="parameter">A</span>、<span class="parameter">B</span>、<span class="parameter">C</span>
                              等等的格式与按时长切割模式（见上文）所用的格式相同。时间戳表以逗号分隔。
                              输入流达到当前切割点的时间戳后将创建新的输出文件。然后将使用所给定的下一个切割点。
                              
                           </p>
                           
                           
                           <p>
                              '<span class="literal">timestamps:</span>' 前缀不得省略。
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              通过指定时间戳范围，保留特定部分，并丢弃其余部分。
                              
                           </p>
                           
                           
                           <p>
                              语法: <span class="option">--split</span>
                              <span class="literal">parts:</span><span class="parameter">起点1</span>-<span class="parameter">终点1</span>[,[+]<span class="parameter">起点3</span>-<span class="parameter">终点2</span>[,[+]<span class="parameter">起点3</span>-<span class="parameter">终点3</span>...]]
                              
                           </p>
                           
                           
                           <p>
                              示例: 
                              <ol>
                                 
                                 <li>
                                    <p><span class="code">--split parts:00:01:20-00:02:45,00:05:50-00:10:30</span></p>
                                 </li>
                                 
                                 <li>
                                    <p><span class="code">--split parts:00:01:20-00:02:45,+00:05:50-00:10:30</span></p>
                                 </li>
                                 
                                 <li>
                                    <p><span class="code">--split parts:-00:02:45,00:05:50-</span></p>
                                 </li>
                                 
                              </ol>
                              
                           </p>
                           
                           
                           <p>
                              <span class="literal">parts</span> 模式可以告诉 <span class="productname">mkvmerge</span>(1) 保留特定时间戳范围，而丢弃其余部分。要保留的范围需要在
                              <span class="literal">parts:</span> 关键词后列出，以逗号隔开。各分段由起始及终止时间戳组成，格式与其他
                              <span class="parameter">--split</span> 模式所能接受的相同 (如 <span class="literal">00:01:20</span> 与
                              <span class="literal">80s</span> 代表相同的时间戳)。
                              
                           </p>
                           
                           
                           <p>
                              若起始时间戳留空，则默认为前一段的终止时间戳。若不存在前一段，则默认为文件开头 (参见示例 3)。
                              
                           </p>
                           
                           
                           <p>
                              若终止时间戳留空，则默认为输入文件末尾，亦即告诉 <span class="productname">mkvmerge</span>(1) 保留其余部分 (参见示例 3)。
                              
                           </p>
                           
                           
                           <p>
                              通常每一段都会写入新的文件。该行为也可以调整，以便将连续的分段写入同一个文件。要实现这种效果，用户可以在起始时间戳开头加上
                              <span class="literal">+</span> 前缀。这样可以告诉 <span class="productname">mkvmerge</span>(1)
                              不要创建新文件，而是将该分段写入与之前一段相同的文件当中。时间戳也会自动调整，确保即使输入文件中两分段不连续，输出文件中也不出现间隙。
                              
                           </p>
                           
                           
                           <p>
                              例 1 中 <span class="productname">mkvmerge</span>(1) 会创建两个文件。第一个包含从 <span class="literal">00:01:20</span> 到
                              <span class="literal">00:02:45</span> 之间的内容。第二个文件包含从 <span class="literal">00:05:50</span> 到
                              <span class="literal">00:10:30</span> 之间的内容。
                              
                           </p>
                           
                           
                           <p>
                              例 2 中 <span class="productname">mkvmerge</span>(1) 将只创建一个文件。该文件包含从 <span class="literal">00:01:20</span> 到
                              <span class="literal">00:02:45</span> 及从 <span class="literal">00:05:50</span> 到
                              <span class="literal">00:10:30</span> 的内容。
                              
                           </p>
                           
                           
                           <p>
                              例 3 中 <span class="productname">mkvmerge</span>(1) 将创建两个文件。第一个包含从输入文件开头到 <span class="literal">00:02:45</span>
                              的内容。第二个文件将包含从 <span class="literal">00:05:50</span> 到输入文件结尾之间的内容。
                              
                           </p>
                           
                           
                           <div class="note">
                              <p class="note-title">Note:</p>
                              
                              <p>
                                 请注意，<span class="productname">mkvmerge</span>(1)
                                 只在关键帧位置决定是否切割。每段切割区域的起始点与结束点均为关键帧。因此即使结束时间戳介于两个关键帧之间，<span class="productname">mkvmerge</span>(1)
                                 也将继续输出帧，直到下一关键帧为止（不包括）。
                                 
                              </p>
                              
                           </div>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              通过指定帧/场序号范围，保留特定部分，并丢弃其余部分。
                              
                           </p>
                           
                           
                           <p>
                              语法: <span class="option">--split</span>
                              <span class="literal">parts-frames:</span><span class="parameter">起点1</span>-<span class="parameter">终点1</span>[,[+]<span class="parameter">起点2</span>-<span class="parameter">终点2</span>[,[+]<span class="parameter">起点3</span>-<span class="parameter">终点3</span>...]]
                              
                           </p>
                           
                           
                           <p>
                              示例: 
                              <ol>
                                 
                                 <li>
                                    <p><span class="code">--split parts-frames:137-258,548-1211</span></p>
                                 </li>
                                 
                                 <li>
                                    <p><span class="code">--split parts-frames:733-912,+1592-2730</span></p>
                                 </li>
                                 
                                 <li>
                                    <p><span class="code">--split parts-frames:-430,2512-</span></p>
                                 </li>
                                 
                              </ol>
                              
                           </p>
                           
                           
                           <p>
                              <span class="literal">parts-frames</span> 模式可以告诉 <span class="productname">mkvmerge</span>(1)
                              保留特定帧/场序号范围，而丢弃其余部分。要保留的范围需要在 <span class="literal">parts-frames:</span>
                              关键词后列出，以逗号隔开。各分段由起始及终止帧/场序号组成。序号从 1 开始计数。
                              
                           </p>
                           
                           
                           <p>
                              若起始序号留空，则默认为前一段的终止序号。若不存在前一段，则默认为文件开头 (参见示例 3)。
                              
                           </p>
                           
                           
                           <p>
                              若终止序号留空，则默认为文件末尾，亦即告诉 <span class="productname">mkvmerge</span>(1) 保留其余部分 (参见示例 3)。
                              
                           </p>
                           
                           
                           <p>
                              通常每一段都会写入新的文件。该行为也可以调整，以便将连续的分段写入同一个文件。要实现这种效果，用户可以在起始序号开头加上
                              <span class="literal">+</span> 前缀。这样可以告诉 <span class="productname">mkvmerge</span>(1)
                              不要创建新文件，而是将该分段写入与之前一段相同的文件当中。时间戳也会自动调整，确保即使输入文件中两分段不连续，输出文件中也不出现间隙。
                              
                           </p>
                           
                           
                           <div class="note">
                              <p class="note-title">Note:</p>
                              
                              <p>
                                 请注意，<span class="productname">mkvmerge</span>(1)
                                 只在关键帧位置决定是否切割。每段切割区域的起始点与结束点均为关键帧。因此即使结束帧/场序号介于两个关键帧之间，<span class="productname">mkvmerge</span>(1)
                                 也将继续输出帧，直到下一关键帧为止（不包括）。
                                 
                              </p>
                              
                           </div>
                           
                           
                           <p>
                              例 1 中 <span class="productname">mkvmerge</span>(1) 会创建两个文件。第一个包含从第 <span class="literal">137</span> 帧或之后的第一个关键帧，到第
                              <span class="literal">258</span> 帧或之后的第一个关键帧（但不含该关键帧）之间的内容。第二个文件包含第
                              <span class="literal">548</span> 到 <span class="literal">1211</span> 帧之间的内容。
                              
                           </p>
                           
                           
                           <p>
                              例 2 中 <span class="productname">mkvmerge</span>(1) 将只创建一个文件。该文件包含从 <span class="literal">733</span> 到
                              <span class="literal">912</span> 及从 <span class="literal">1592</span> 到 <span class="literal">2730</span>
                              的内容。
                              
                           </p>
                           
                           
                           <p>
                              例 3 中 <span class="productname">mkvmerge</span>(1) 将创建两个文件。第一个包含输入文件开头到 <span class="literal">430</span> 的内容。第二个文件将包含从
                              <span class="literal">2512</span> 到输入文件结尾之间的内容。
                              
                           </p>
                           
                           
                           <p>
                              该模式只考虑输出的第一条视频轨道。 如果没有输出视频轨道，则将不会进行切割操作。
                              
                           </p>
                           
                           
                           <div class="note">
                              <p class="note-title">Note:</p>
                              
                              <p>
                                 通过本参数给出的数字将根据输出的 <span class="productname">Matroska</span><sup>(tm)</sup> 区块解析。 单个 <span class="productname">Matroska</span><sup>(tm)</sup> 区块可包含完整的一帧 (对于逐行扫描的内容) 或单场
                                 (对于隔行扫描的内容)。 mkvmerge 不区分两者，它直接统计区块数目。 例如: 假设某人希望在隔行扫描的第 25 个完整帧之后切割，则应使用
                                 <span class="literal">50</span> (每帧对应两场) 作为切割点。
                                 
                              </p>
                              
                           </div>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              在指定帧/场后切割。
                              
                           </p>
                           
                           
                           <p>
                              语法: <span class="option">--split</span>
                              <span class="literal">frames:</span><span class="parameter">A</span>[,<span class="parameter">B</span>[,<span class="parameter">C</span>...]]
                              
                           </p>
                           
                           
                           <p>
                              示例: <span class="code">--split frames:120,237,891</span>
                              
                           </p>
                           
                           
                           <p>
                              参数
                              <span class="parameter">A</span>、<span class="parameter">B</span>、<span class="parameter">C</span>
                              等等必须全为正整数。编号从 1 开始。 帧/场编号列表以逗号分隔。
                              输入流达到当前切割点的帧/场编号后将创建新的输出文件。然后将使用所给定的下一个切割点。
                              
                           </p>
                           
                           
                           <p>
                              '<span class="literal">frames:</span>' 前缀不得省略。
                              
                           </p>
                           
                           
                           <p>
                              该模式只考虑输出的第一条视频轨道。 如果没有输出视频轨道，则将不会进行切割操作。
                              
                           </p>
                           
                           
                           <div class="note">
                              <p class="note-title">Note:</p>
                              
                              <p>
                                 通过本参数给出的数字将根据输出的 <span class="productname">Matroska</span><sup>(tm)</sup> 区块解析。 单个 <span class="productname">Matroska</span><sup>(tm)</sup> 区块可包含完整的一帧 (对于逐行扫描的内容) 或单场
                                 (对于隔行扫描的内容)。 mkvmerge 不区分两者，它直接统计区块数目。 例如: 假设某人希望在隔行扫描的第 25 个完整帧之后切割，则应使用
                                 <span class="literal">50</span> (每帧对应两场) 作为切割点。
                                 
                              </p>
                              
                           </div>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              在指定章节之前切割。
                              
                           </p>
                           
                           
                           <p>
                              语法: <span class="option">--split</span> <span class="literal">chapters:all</span> or
                              <span class="option">--split</span>
                              <span class="literal">chapters:</span><span class="parameter">A</span>[,<span class="parameter">B</span>[,<span class="parameter">C</span>...]]
                              
                           </p>
                           
                           
                           <p>
                              示例: <span class="code">--split chapters:5,8</span>
                              
                           </p>
                           
                           
                           <p>
                              参数
                              <span class="parameter">A</span>、<span class="parameter">B</span>、<span class="parameter">C</span>
                              等等必须全为正整数。编号从 1 开始。 章节编号列表以逗号分隔。 切割将在时间戳等于或大于所列编号对应章节的起始时间戳的首个关键帧之前进行。从 0s
                              开始的章节将不作考虑，并不作提示，直接丢弃。
                              
                           </p>
                           
                           
                           <p>
                              关键词 <span class="literal">all</span> 可选择所有章节编号，无需手工输入。
                              
                           </p>
                           
                           
                           <p>
                              '<span class="literal">chapters:</span>' 前缀不得省略。
                              
                           </p>
                           
                           
                           <div class="note">
                              <p class="note-title">Note:</p>
                              
                              <p>
                                 <span class="productname">Matroska</span><sup>(tm)</sup> 文件格式支持任意深度嵌套的章节结构，称为“版本条目”与“章节单位”。 但该模式仅考虑所有版本条目中最顶层的章节。
                                 
                              </p>
                              
                           </div>
                           
                        </li>
                        
                     </ol>
                     
                     
                     <p>
                        此切割模式下输出文件名将以不同于常用操作的方式对待。可能会含有类似 <span class="function">printf</span> 中
                        '<span class="code">%d</span>' 的表达式，包括可选的字段宽度，如
                        '<span class="code">%02d</span>'。如果含有上述表达式，当前文件序号将按相应格式生成，然后插入到文件名中的相应位置。
                        如果没有此类匹配模式，则假定匹配模式为在文件扩展名之前插入 '<span class="code">-%03d</span>': '<span class="code">-o 输出.mkv</span>'
                        将生成 '<span class="code">输出-001.mkv</span>' 这样的一系列文件。如果没有扩展名，'<span class="code">-%03d</span>'
                        将被追加在文件名之后。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.link"><span class="option">--link</span></a></td>
                  <td>
                     
                     <p>
                        切割输出文件时连接文件。详情请参阅下文 <a href="#mkvmerge.file_linking">文件链接</a> 段落。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--link-to-previous</span> <span class="parameter">剪辑-UID</span></td>
                  <td>
                     
                     <p>
                        连接第一个输出文件到指定 <span class="parameter">剪辑-UID</span> 参数对应的剪辑。详情请参阅下文 <a href="#mkvmerge.file_linking">文件链接</a> 段落。
                        
                     </p>
                     
                     
                     <p>
                        若 SID 以“=”开头，则其剩余部分将作为 Matroska 文件解析，将读取并使用该文件的剪辑 UID。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--link-to-next</span> <span class="parameter">剪辑-UID</span></td>
                  <td>
                     
                     <p>
                        连接最后一个输出文件到指定 <span class="parameter">剪辑-UID</span> 参数对应的剪辑。详情请参阅下文 <a href="#mkvmerge.file_linking">文件链接</a> 段落。
                        
                     </p>
                     
                     
                     <p>
                        若 SID 以“=”开头，则其剩余部分将作为 Matroska 文件解析，将读取并使用该文件的剪辑 UID。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--append-mode</span> <span class="parameter">模式</span></td>
                  <td>
                     
                     <p>
                        决定追加合并文件时如何计算时间戳。 参数 <span class="parameter">模式</span> 可以有两个数值: 默认的
                        '<span class="literal">file（文件）</span>' 和 '<span class="literal">track（轨道）</span>'。
                        
                     </p>
                     
                     
                     <p>
                        当 mkvmerge 将来自另一文件 (本段中假设为 '<span class="literal">文件2</span>') 的一条轨道 (假设为
                        '<span class="literal">轨道2_1</span>' ) 追加合并到首个文件 (假设为 '<span class="literal">文件1</span>')的一条轨道
                        (假设为 '<span class="literal">轨道1_1</span>') 时，它将为 '<span class="literal">轨道2_1</span>'
                        的所有时间戳设定一定量的延时。 对于 '<span class="literal">file（文件）</span>' 模式此延时量是
                        '<span class="literal">文件1</span>' 中遇到的最大时间戳，即使此时间戳不属于轨道 '<span class="literal">轨道1_1</span>'。而在
                        track （轨道模式）下此延时为 '<span class="literal">轨道1_1</span>' 的最大时间戳。
                        
                     </p>
                     
                     
                     <p>
                        不幸的是 mkvmerge 无法侦测使用哪种模式更为可靠。因此默认为 '<span class="literal">file（文件）</span>'
                        模式。'<span class="literal">file</span>' 模式对单独创建的文件的处理通常更好；例如在追加 <span class="abbrev">AVI</span> 或
                        <span class="abbrev">MP4</span> 文件时。'<span class="literal">track（轨道）</span>'
                        模式对一个大文件的完整分块的处理更好，例如对于 <span class="abbrev">VOB</span> 与 <span class="abbrev">EVO</span> 文件。
                        
                     </p>
                     
                     
                     <p>
                        即使选用了 '<span class="literal">track（轨道）</span>' 模式，字母轨道也将按照
                        '<span class="literal">file（文件）</span>' 模式处理。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--append-to</span>
                     <span class="parameter">SFID1:STID1:DFID1:DTID1[,...]</span></td>
                  <td>
                     
                     <p>
                        此选项控制要追加合并哪些轨道与哪些轨道。 各指令由四个 ID 组成: 输入文件 ID, 源轨道 ID, 目标文件 ID 和目标轨道 ID。
                        第一对，"输入文件 ID" 与 "源轨道 ID"确定要追加合并的轨道。 第二对，"目标文件 ID" 与 "目标轨道
                        ID"，确定源轨道要追加合并到的轨道。
                        
                     </p>
                     
                     
                     <p>
                        如果忽略本选项，则将使用标准映射。 标准映射即将当前文件的各个轨道追加到前一个文件的相应轨道（轨道 ID 相同）。
                        当影片被切割为多段，且各文件中轨道数和轨道 ID 相同时，这将允许简单的追加合并，命令行为 <span class="command">mkvmerge -o 输出.mkv
                           第一段.mkv +第二段.mkv</span>。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">+</span></td>
                  <td>
                     
                     <p>
                        单个 '+' 将追加后面的文件，而不是添加。'+' 也可以直接放在下一个文件名的前面。因此以下两条命令等效:
                        
                     </p>
                     
                     <pre class="screen">$ mkvmerge -o 完整.mkv 文件1.mkv + 文件2.mkv
$ mkvmerge -o 完整.mkv 文件1.mkv +文件2.mkv</pre>
                     </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">[</span> <span class="parameter">文件1</span> <span class="parameter">文件2</span>
                     <span class="option">]</span></td>
                  <td>
                     
                     <p>
                        如果方括号内包含多个文件名，则从第二个文件开始的所有文件都将追加合并到第一个文件后面。
                        
                     </p>
                     
                     
                     <p>
                        这是用“+”连接文件名的另一种语法。因此下述两条命令是等效的:
                        
                     </p>
                     
                     <pre class="screen">$ mkvmerge -o 完整.mkv 文件1.mkv + 文件2.mkv
$ mkvmerge -o 完整.mkv '[' 文件1.mkv 文件2.mkv ']'</pre>
                     </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.prevent_concatenation"><span class="option">=</span></a></td>
                  <td>
                     
                     <p>
                        通常情况下 <span class="productname">mkvmerge</span>(1) 将在输入文件所在的目录中查找基本名称相同，仅在连续的数字方面有差异的文件 (如
                        'VTS_01_1.VOB'、'VTS_01_2.VOB'、'VTS_01_3.VOB'
                        等等)，并将所有这些文件作为连接后的单个大文件对待。本选项，单个 '='，可令 mkvmerge 不查找这些额外的文件。
                        
                     </p>
                     
                     
                     <p>
                        '=' 也可以放在下一个文件名的前面。因此以下两条命令等效:
                        
                     </p>
                     
                     <pre class="screen">$ mkvmerge -o 完整.mkv = 文件1.mkv
$ mkvmerge -o 完整.mkv =文件1.mkv</pre>
                     </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.concatenation"><span class="option">(</span> <span class="parameter">文件1</span> <span class="parameter">文件2</span>
                        <span class="option">)</span></a></td>
                  <td>
                     
                     <p>
                        如果一对圆括号中包含多个文件名，这些文件将被当作连接起来的单个大文件对待，其内容为各文件顺序相连。
                        
                     </p>
                     
                     
                     <p>
                        该功能可用于如 DVD 中的 VOB 文件，或是 MPEG 传输流。如果各文件有独立的头，常见的例子如独立的 AVI 或 MP4 文件，则不适用。
                        
                     </p>
                     
                     
                     <p>
                        将文件名置于括号中还可以阻止 <span class="productname">mkvmerge</span>(1) 查找具有相同基名称的文件，如 <a href="#mkvmerge.description.prevent_concatenation">=
                           选项</a> 所述。因此下面两则命令行等效:
                        
                     </p>
                     
                     <pre class="screen">$ mkvmerge -o 输出.mkv = 文件.mkv
$ mkvmerge -o 输出.mkv '(' 文件.mkv ')'</pre>
                     
                     <p>
                        应该注意的几件事:
                        
                     </p>
                     
                     
                     <ol>
                        
                        <li>
                           
                           <p>
                              左括号后、右括号前均必须有空格。
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              括号之间的所有参数都作为文件名解析。因此应用到此逻辑文件的所有选项都必须在左括号之前列出。
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              一些 shell 会将括号作为特殊符号对待。因此您需要像上例这样进行转义或给它们加上引号。
                              
                           </p>
                           
                        </li>
                        
                     </ol>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         
         <h2><a name="d4e2189">2.6. 附件支持 (其他全局选项)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.attachment_description"><span class="option">--attachment-description</span> <span class="parameter">描述</span></a></td>
                  <td>
                     
                     <p>
                        对后面附件的纯文字描述。将应用到下一个 <a href="#mkvmerge.description.attach_file">--attach-file</a>
                        或 <span class="option">--attach-file-once</span> 选项。
                        
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--attachment-mime-type</span> <span class="parameter">MIME 类型</span></td>
                  <td>
                     
                     <p>
                        后面附件的 <span class="abbrev">MIME</span> 类型。将应用到下一个 <a href="#mkvmerge.description.attach_file">--attach-file</a>
                        或 <a href="#mkvmerge.description.attach_file">--attach-file-once</a>
                        选项。 官方认可的 <span class="abbrev">MIME</span> 类型列表可以在如 <a href="http://www.iana.org/assignments/media-types/">IANA 主页</a>
                        找到。<span class="abbrev">MIME</span> 类型对附件来说是必需的。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--attachment-name</span> <span class="parameter">名称</span></td>
                  <td>
                     
                     <p>
                        设置此附件将在输出文件中储存的名称。 如果未给出此选项则将由 <a href="#mkvmerge.description.attach_file">--attach-file</a>
                        或 <a href="#mkvmerge.description.attach_file">--attach-file-once</a>
                        选项所设的文件名推得。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.attach_file">
                        <span class="option">--attach-file</span> <span class="parameter">文件名</span>,
                        <span class="option">--attach-file-once</span> <span class="parameter">文件名</span>
                        </a></td>
                  <td>
                     
                     <p>
                        在 <span class="productname">Matroska</span><sup>(tm)</sup> 文件中创建文件附件。<span class="abbrev">MIME</span> 类型必须在使用此选项之前设定。两种形式的不同之处在于使用
                        <span class="option">--attach-file</span> 附加的文件在切割过程中将被附加到所有输出文件中，而使用
                        <span class="option">--attach-file-once</span> 附加的文件只被附加到创建的首个文件中。如果未使用切割功能，两种形式效果相同。
                        
                     </p>
                     
                     
                     <p>
                        可以使用 <a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a> 从 <span class="productname">Matroska</span><sup>(tm)</sup> 文件中提取附件文件。
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e2330">2.7. 用于各输入文件的选项</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="option">-a</span>, <span class="option">--audio-tracks</span>
                     <span class="parameter">[!]n,m,...</span></td>
                  <td>
                     
                     <p>
                        复制 <span class="parameter">n</span>、<span class="parameter">m</span> 等音频轨。数字是可以通过 <a href="#mkvmerge.description.identify">--identify</a>
                        开关获取的轨道 ID。他们不只是简单的轨道序号（参见 <a href="#mkvmerge.track_ids">轨道
                           ID</a>段落）。默认: 复制所有音频轨道。
                        
                     </p>
                     
                     
                     <p>
                        除轨道 ID 以外，您还可以提供 ISO 639-2 语言代码。仅当输入文件的轨道包含语言标签时可用。
                        
                     </p>
                     
                     
                     <p>
                        默认: 复制该类的所有轨道。
                        
                     </p>
                     
                     
                     <p>
                        若 ID 以 <span class="literal">!</span> 开头，则其意义相反: 复制该类的所有轨道，除了 <span class="literal">!</span>
                        后面所列出的轨道。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-d</span>, <span class="option">--video-tracks</span>
                     <span class="parameter">[!]n,m,...</span></td>
                  <td>
                     
                     <p>
                        复制 <span class="parameter">n</span>、<span class="parameter">m</span> 等视频轨。数字是可以通过 <a href="#mkvmerge.description.identify">--identify</a>
                        开关获取的轨道 ID。他们不只是简单的轨道序号（参见 <a href="#mkvmerge.track_ids">轨道
                           ID</a>段落）。默认: 复制所有视频轨道。
                        
                     </p>
                     
                     
                     <p>
                        除轨道 ID 以外，您还可以提供 ISO 639-2 语言代码。仅当输入文件的轨道包含语言标签时可用。
                        
                     </p>
                     
                     
                     <p>
                        若 ID 以 <span class="literal">!</span> 开头，则其意义相反: 复制该类的所有轨道，除了 <span class="literal">!</span>
                        后面所列出的轨道。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-s</span>, <span class="option">--subtitle-tracks</span>
                     <span class="parameter">[!]n,m,...</span></td>
                  <td>
                     
                     <p>
                        复制 <span class="parameter">n</span>、<span class="parameter">m</span> 等字幕轨。数字是可以通过 <a href="#mkvmerge.description.identify">--identify</a>
                        开关获取的轨道 ID。他们不只是简单的轨道序号（参见 <a href="#mkvmerge.track_ids">轨道
                           ID</a>段落）。默认: 复制所有字幕轨道。
                        
                     </p>
                     
                     
                     <p>
                        除轨道 ID 以外，您还可以提供 ISO 639-2 语言代码。仅当输入文件的轨道包含语言标签时可用。
                        
                     </p>
                     
                     
                     <p>
                        若 ID 以 <span class="literal">!</span> 开头，则其意义相反: 复制该类的所有轨道，除了 <span class="literal">!</span>
                        后面所列出的轨道。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-b</span>, <span class="option">--button-tracks</span>
                     <span class="parameter">[!]n,m,...</span></td>
                  <td>
                     
                     <p>
                        复制 <span class="parameter">n</span>、<span class="parameter">m</span> 等按钮轨。数字是可以通过 <a href="#mkvmerge.description.identify">--identify</a>
                        开关获取的轨道 ID。他们不只是简单的轨道序号（参见 <a href="#mkvmerge.track_ids">轨道
                           ID</a>段落）。默认: 复制所有按钮轨道。
                        
                     </p>
                     
                     
                     <p>
                        除轨道 ID 以外，您还可以提供 ISO 639-2 语言代码。仅当输入文件的轨道包含语言标签时可用。
                        
                     </p>
                     
                     
                     <p>
                        若 ID 以 <span class="literal">!</span> 开头，则其意义相反: 复制该类的所有轨道，除了 <span class="literal">!</span>
                        后面所列出的轨道。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--track-tags</span>
                     <span class="parameter">[!]n,m,...</span></td>
                  <td>
                     
                     <p>
                        复制 <span class="parameter">n</span>、<span class="parameter">m</span> 等轨道的标签。数字是可以通过 <a href="#mkvmerge.description.identify">--identify</a>
                        开关获取的轨道 ID。他们不只是简单的轨道序号（参见 <a href="#mkvmerge.track_ids">轨道
                           ID</a>段落）。默认: 复制所有轨道的标签。
                        
                     </p>
                     
                     
                     <p>
                        如果 ID 以 <span class="literal">!</span> 作为前缀，则含义相反: 复制除了列在 <span class="literal">!</span> 后面的 ID
                        以外的所有轨道。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.attachments"><span class="option">-m</span>, <span class="option">--attachments</span>
                        <span class="parameter">[!]n[:all|first],m[:all|first],...</span></a></td>
                  <td>
                     
                     <p>
                        复制 ID 为 <span class="parameter">n</span>、<span class="parameter">m</span>
                        等的附件到所有或者仅首个输出文件中。各 ID 后可接 '<span class="literal">:all</span>'（如果两可选数值均未输入，此为默认值）或者
                        '<span class="literal">:first</span>'。如果切割功能已被起用，则 ID 被指定为 '<span class="literal">:all</span>'
                        的附件将被复制到所有生成的输出文件中，而其他附件只被复制到首个输出文件中。如果未使用切割功能则两变量等效。
                        
                     </p>
                     
                     
                     <p>
                        默认复制所有附件到所有输出文件中。
                        
                     </p>
                     
                     
                     <p>
                        如果 ID 以 <span class="literal">!</span> 作为前缀，则含义相反: 复制除了列在 <span class="literal">!</span> 后面的 ID
                        以外的所有轨道。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-A</span>, <span class="option">--no-audio</span></td>
                  <td>
                     
                     <p>
                        不要从此文件中复制任何音频轨。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-D</span>, <span class="option">--no-video</span></td>
                  <td>
                     
                     <p>
                        不要从此文件中复制任何视频轨。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-S</span>, <span class="option">--no-subtitles</span></td>
                  <td>
                     
                     <p>
                        不要从此文件中复制任何字幕轨。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-B</span>, <span class="option">--no-buttons</span></td>
                  <td>
                     
                     <p>
                        不要从此文件中复制任何按钮轨。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-T</span>, <span class="option">--no-track-tags</span></td>
                  <td>
                     
                     <p>
                        不要从此文件中复制任何轨道细节标签。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_chapters"><span class="option">--no-chapters</span></a></td>
                  <td>
                     
                     <p>
                        不要从此文件中复制章节。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_attachments"><span class="option">-M</span>, <span class="option">--no-attachments</span></a></td>
                  <td>
                     
                     <p>
                        不要从此文件中复制附件。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--no-global-tags</span></td>
                  <td>
                     
                     <p>
                        不要从此文件中复制全局标签。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--chapter-charset</span> <span class="parameter">字符集</span></td>
                  <td>
                     
                     <p>
                        设置输入文件中章节信息的字符集，以供转为 UTF-8 之用。关于 <span class="productname">mkvmerge</span>(1) 如何在字符集之间进行转换的说明，请参阅下文 <a href="#mkvmerge.text_files_and_charsets"> 文本文件与字符集</a> 段落。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--chapter-language</span> <span class="parameter">语言代码</span></td>
                  <td>
                     
                     <p>
                        选择各章节项所用的 ISO639-2 语言代码。 此选项可用于包含章节但不含关于章节语言的信息的输入文件，如 MP4 与 OGM 文件。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-y</span>, <span class="option">--sync</span>
                     <span class="parameter">TID:d[,o[/p]]</span></td>
                  <td>
                     
                     <p>
                        将 id 为 <span class="parameter">TID</span> 的轨道的时间戳按 <span class="parameter">d</span> ms
                        进行调整。轨道 ID 与 <a href="#mkvmerge.description.identify">--identify</a>
                        所给出的相同 (参见 <a href="#mkvmerge.track_ids">轨道 ID</a> 段落)。
                        
                     </p>
                     
                     
                     <p>
                        <span class="parameter">o</span>/<span class="parameter">p</span>: 按
                        <span class="parameter">o</span>/<span class="parameter">p</span> 调整时间戳以修复线性偏移。如果省略
                        <span class="parameter">p</span> 则默认为 1。<span class="parameter">o</span> 与
                        <span class="parameter">p</span> 均可为浮点数。
                        
                     </p>
                     
                     
                     <p>
                        默认: 无手动同步校正 (与 <span class="parameter">d</span> = <span class="constant">0</span> 及
                        <span class="parameter">o</span>/<span class="parameter">p</span> = <span class="constant">1.0</span>
                        效果相同)。
                        
                     </p>
                     
                     
                     <p>
                        此选项可以对同一输入文件多次使用，通过每次选择不同轨道 ID 分别应用到多个轨道。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.cues"><span class="option">--cues</span> <span class="parameter">TID:none|iframes|all</span></a></td>
                  <td>
                     
                     <p>
                        控制为指定轨道 (参阅 <a href="#mkvmerge.track_ids">轨道 ID</a> 段落) 创建何种 cue
                        索引。'<span class="literal">none（无）</span>' 将阻止 cue 索引的创建。 而 '<span class="literal">iframes（仅 i
                           帧）</span>' 表示仅将没有前后参考的块 ( = 视频轨道中的 I 帧) 置于 cue
                        索引项中。'<span class="literal">all（全部）</span>' 将使 <span class="productname">mkvmerge</span>(1) 为所有区块创建索引，会使生成的文件非常大。
                        
                     </p>
                     
                     
                     <p>
                        默认值为 '<span class="literal">iframes（仅 i 帧）</span>'（视频及字幕轨道）或
                        '<span class="literal">none（无）</span>'（音频轨道）。参见 <a href="#mkvmerge.description.no_cues">--no-cues</a>
                        选项，后者可阻止 cue 条目的创建，无论是否使用了 <span class="option">--cues</span> 选项。
                        
                     </p>
                     
                     
                     <p>
                        此选项可以对同一输入文件多次使用，通过每次选择不同轨道 ID 分别应用到多个轨道。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--default-track</span>
                     <span class="parameter">TID[:bool]</span></td>
                  <td>
                     
                     <p>
                        当为设定可选变量 <span class="parameter">bool</span> 时为指定轨道 (参见 <a href="#mkvmerge.track_ids">轨道 ID</a> 段落) 设置 '默认轨' 标记。
                        当用户未明确选定一个轨道时，播放器将优先选用设有 '默认轨' 标记的轨道。各类 (音频、视频、字幕、按钮) 轨道只能有一条设置 '默认轨' 标记。
                        如果用户希望所有轨道都不被设置默认轨标记，可以将所有轨道的 <span class="parameter">bool</span> 设为
                        <span class="constant">0</span>。
                        
                     </p>
                     
                     
                     <p>
                        此选项可以对同一输入文件多次使用，通过每次选择不同轨道 ID 分别应用到多个轨道。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--forced-track</span>
                     <span class="parameter">TID[:bool]</span></td>
                  <td>
                     
                     <p>
                        若未给出可选参数 <span class="parameter">bool</span>，则为指定轨道 (参见 <a href="#mkvmerge.track_ids">轨道 ID</a> 段落) 设置“强制轨”标记。播放器必须播放“强制轨”标记为
                        <span class="constant">1</span> 的所有轨道。
                        
                     </p>
                     
                     
                     <p>
                        此选项可以对同一输入文件多次使用，通过每次选择不同轨道 ID 分别应用到多个轨道。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--blockadd</span> <span class="parameter">TID:层级</span></td>
                  <td>
                     
                     <p>
                        只保留选定轨道中高达 <span class="parameter">层级</span> 层级的
                        <span class="classname">BlockAdditions</span> 附加块。 默认保留所有层级。 此选项只影响特定类型的编解码器，如
                        WAVPACK4。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.track_name"><span class="option">--track-name</span> <span class="parameter">TID:名称</span></a></td>
                  <td>
                     
                     <p>
                        将指定轨道 (参见 <a href="#mkvmerge.track_ids">轨道 ID</a> 段落) 的轨道名称设为
                        <span class="parameter">名称</span>。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.language"><span class="option">--language</span> <span class="parameter">TID:语言</span></a></td>
                  <td>
                     
                     <p>
                        为指定轨道 (参见 <a href="#mkvmerge.track_ids">轨道 ID</a>) 设置语言。允许使用
                        ISO639-2 语言代码与 ISO639-1 国家代码。国家代码将被自动转换为语言代码。 可以使用 <a href="#mkvmerge.description.list_languages">--list-languages</a>
                        选项列出所有语言以及它们的 ISO639-2 代码。
                        
                     </p>
                     
                     
                     <p>
                        此选项可以对同一输入文件多次使用，通过每次选择不同轨道 ID 分别应用到多个轨道。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.tags"><span class="option">-t</span>, <span class="option">--tags</span> <span class="parameter">TID:文件名</span></a></td>
                  <td>
                     
                     <p>
                        从文件 <span class="parameter">文件名</span> 读取轨道号为 <span class="parameter">TID</span>
                        的轨道的标签。详情参见下文 <a href="#mkvmerge.tags">标签</a> 段落。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--aac-is-sbr</span>
                     <span class="parameter">TID[:0|1]</span></td>
                  <td>
                     
                     <p>
                        告诉 <span class="productname">mkvmerge</span>(1) ID 为 <span class="parameter">TID</span> 的轨道是 <span class="abbrev">SBR AAC</span>
                        (亦作 <span class="abbrev">HE-AAC</span> 或 <span class="abbrev">AAC+</span>)。下述情况下需要此选项：a) 输入文件是
                        <span class="abbrev">AAC</span> 文件 (<em>不是</em> <span class="productname">Matroska</span><sup>(tm)</sup> 文件) 且 b) 该
                        <span class="abbrev">AAC</span> 文件含有 <span class="abbrev">SBR AAC</span> 数据。
                        设置此开关的原因是目前技术上无法在不解码一个完整的 <span class="abbrev">AAC</span> 帧的情况下自动分辨普通的
                        <span class="abbrev">AAC</span> 数据与 <span class="abbrev">SBR AAC</span> 数据。由于 <span class="abbrev">AAC</span>
                        解码器的诸多专利问题，<span class="productname">mkvmerge</span>(1) 永远不会包含此解码层。因此此开关对于 <span class="abbrev">SBR AAC</span>
                        文件是必需的。如果忽略了此开关，生成的文件可能无法正常回放，甚至可能根本无法播放。
                        
                     </p>
                     
                     
                     <p>
                        如果输入文件是 <span class="productname">Matroska</span><sup>(tm)</sup> 文件，则已有足够侦测 <span class="abbrev">SBR AAC</span> 的
                        <span class="classname">CodecID</span> 了。然而，如果 <span class="classname">CodecID</span>
                        标注错误，此开关可用于更正之。
                        
                     </p>
                     
                     
                     <p>
                        如果 mkvmerge 错将 <span class="abbrev">AAC</span> 文件侦测为 <span class="abbrev">SBR</span>，您可以将
                        '<span class="literal">:0</span>' 添加到轨道 ID。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--reduce-to-core</span> <span class="parameter">轨道ID</span></td>
                  <td>
                     
                     <p>
                        有些音频编码的核心是有损的，但提供了可选的扩展来实现无损解码。该选项告诉 <span class="productname">mkvmerge</span>(1)
                        只复制核心部分，而不复制扩展部分。默认情况下，<span class="productname">mkvmerge</span>(1) 会复制全部内容。
                        
                     </p>
                     
                     
                     <p>
                        目前只有 <span class="abbrev">DTS</span> 轨道受此选项影响。嵌入 <span class="abbrev">AC-3</span> 核心的 TrueHD
                        轨道以两个轨道的形式呈现，用户可以选择复制哪个轨道。<span class="abbrev">DTS</span> 无法采用这种方案，因为 HD 扩展部分不能单独解码 – 而
                        TrueHD 数据可以。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--remove-dialog-normalization-gain</span>
                     <span class="parameter">轨道ID</span></td>
                  <td>
                     
                     <p>
                        部分音频编码包含告知解码器/播放器如何应用音量增益（通常是降低）的头部字段，从而实现对白正规化。此选项可让 <span class="productname">mkvmerge</span>(1)&nbsp;
                        修改相应头部字段，移除或减小增益。
                        
                     </p>
                     
                     
                     <p>
                        目前只有 <span class="abbrev">AC-3</span>、<span class="abbrev">DTS</span> 与 <span class="abbrev">TrueHD</span>
                        轨道受此选项影响。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--timestamps</span> <span class="parameter">TID:文件名</span></td>
                  <td>
                     
                     <p>
                        从 <span class="parameter">文件名</span> 读取要应用到指定轨道 ID 的时间戳。 这些时间戳将强制覆盖 <span class="productname">mkvmerge</span>(1)
                        默认计算出的时间戳。参阅关于 <a href="#mkvmerge.external_timestamp_files">外部时间戳文件</a> 的章节。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.default_duration"><span class="option">--default-duration</span> <span class="parameter">TID:x</span></a></td>
                  <td>
                     
                     <p>
                        强制指定轨道的默认时长为指定数值。 将同时修改轨道的时间戳以匹配该默认时长。 变量 <span class="parameter">x</span> 必须有
                        '<span class="literal">s</span>', '<span class="literal">ms</span>', '<span class="literal">us</span>',
                        '<span class="literal">ns</span>', '<span class="literal">fps</span>', '<span class="literal">p</span>' 或
                        '<span class="literal">i</span>' 作为后缀，分别以秒、毫秒、微秒、纳秒、“帧每秒”、“逐行帧每秒”或“隔行帧每秒”为单位指定默认时长。数字
                        <span class="parameter">x</span> 本身可为浮点数或分数。
                        
                     </p>
                     
                     
                     <p>
                        如果未强制指定默认时长，mkvmerge 将尝试继承容器中（及/或特定轨道类型，如 AVC/h.264 或 MPEG-2
                        已编码的位流中）该轨道的默认时长。
                        
                     </p>
                     
                     
                     <p>
                        此选项也可用于在不使用外部时间戳文件的情况下更改视频轨的 <span class="abbrev">FPS（帧率）</span>。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.fix_bitstream_timing_information"><span class="option">--fix-bitstream-timing-information</span>
                        <span class="parameter">TID[:0|1]</span></a></td>
                  <td>
                     
                     <p>
                        通常 <span class="productname">mkvmerge</span>(1) 不会更改视频位流中存储的时间同步信息
                        (帧/场速率)。本选项可调整此信息，使之与容器的时间同步信息匹配。容器时间同步信息可从多个来源得到: 命令行指定 (参见 <a href="#mkvmerge.description.default_duration">--default-duration</a>
                        选项)、源容器或从位流得出。
                        
                     </p>
                     
                     
                     <div class="note">
                        <p class="note-title">Note:</p>
                        
                        <p>目前仅完成对 AVC/h.264 视频轨的实现。</p>
                        
                     </div>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--nalu-size-length</span> <span class="parameter">TID:n</span></td>
                  <td>
                     
                     <p>
                        强制 <span class="abbrev">NALU</span> 长度为 <span class="parameter">n</span> 字节。 此变量仅当使用
                        <span class="foreignphrase">AVC/h.264</span> 基本流分包器时使用。 如果留空，则默认为 4
                        字节，然而有的文件包含的所有帧或切片都小于 65536 字节。 对此类文件您可以使用此参数并将长度降为 2。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.compression"><span class="option">--compression</span> <span class="parameter">TID:n</span></a></td>
                  <td>
                     
                     <p>
                        选择用于轨道的压缩算法。请注意，播放器也需要支持该算法才能正常播放。有效的值有
                        '<span class="literal">none</span>（不压缩）'、'<span class="literal">zlib</span>' 以及
                        '<span class="literal">mpeg4_p2</span>'/'<span class="literal">mpeg4p2</span>'。
                        
                     </p>
                     
                     <p>
                        压缩方式 '<span class="literal">mpeg4_p2</span>'/'<span class="literal">mpeg4p2</span>' 是一种称为
                        '<span class="foreignphrase">去头</span>' 的特殊压缩方式，只对 <span class="abbrev">MPEG4</span> part 2
                        视频轨可用。
                        
                     </p>
                     
                     <p>
                        部分字幕类型的默认压缩算法为
                        '<span class="literal">zlib</span>'。该算法也是大多数（如果不是所有）回放应用程序所支持的算法。无法保证对其他压缩算法的支持（'<span class="literal">none</span>（不压缩）'
                        除外）。
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e3451">2.8. 仅用于视频轨的选项</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="option">-f</span>, <span class="option">--fourcc</span>
                     <span class="parameter">TID:FourCC</span></td>
                  <td>
                     
                     <p>
                        强制 <span class="classname">FourCC</span> 为指定值。仅对
                        '<span class="foreignphrase">微软兼容模式</span>' 的视频轨有效。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.display_dimensions"><span class="option">--display-dimensions</span> <span class="parameter">TID:宽度x高度</span></a></td>
                  <td>
                     
                     <p>
                        <span class="productname">Matroska</span><sup>(tm)</sup> 文件含有两个设定播放器回放时应当将画面缩放到的显示属性值: 显示宽度与显示高度。 可以使用本选项设定这些数值，如
                        '<span class="literal">1:640x480</span>'。
                        
                     </p>
                     
                     
                     <p>
                        指定所用数值的其他方法是使用 <a href="#mkvmerge.description.aspect_ratio">--aspect-ratio</a>
                        或 <a href="#mkvmerge.description.aspect_ratio_factor">--aspect-ratio-factor</a>
                        选项 (参见下文)。 这些选项是互相独立的。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.aspect_ratio"><span class="option">--aspect-ratio</span> <span class="parameter">TID:宽高比|宽度/高度</span></a></td>
                  <td>
                     
                     <p>
                        <span class="productname">Matroska</span><sup>(tm)</sup> 文件含有两个设定播放器回放时应当将画面缩放到的显示属性值: 显示宽度与显示高度。 通过本选项 <span class="productname">mkvmerge</span>(1)
                        可自动根据画面原始宽高和本选项给定的宽高比计算出显示宽度和显示高度。 宽高比可以以浮点数 <span class="parameter">宽高比</span> 或分数
                        '<span class="parameter">宽度</span>/<span class="parameter">高度</span>' 的形式给出，如
                        '<span class="literal">16/9</span>'。
                        
                     </p>
                     
                     
                     <p>
                        指定所用数值的其他方法是使用 <a href="#mkvmerge.description.aspect_ratio_factor">--aspect-ratio-factor</a>
                        或 <a href="#mkvmerge.description.display_dimensions">--display-dimensions</a>
                        选项 (参见上下文)。这些选项相互独立。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.aspect_ratio_factor"><span class="option">--aspect-ratio-factor</span> <span class="parameter">TID:系数|n/d</span></a></td>
                  <td>
                     
                     <p>
                        另一种设置宽高比的方法是指定一个 <span class="parameter">系数</span>。将将原始宽高比与
                        <span class="parameter">系数</span> 相乘后用作目标宽高比。
                        
                     </p>
                     
                     
                     <p>
                        指定所用数值的其他方法是使用 <a href="#mkvmerge.description.aspect_ratio">--aspect-ratio</a>
                        或 <a href="#mkvmerge.description.display_dimensions">--display-dimensions</a>
                        选项 (参见上文)。这些选项互相独立。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--cropping</span> <span class="parameter">TID:左,上,右,下</span></td>
                  <td>
                     
                     <p>
                        将视频轨道的像素裁减参数设为指定数值。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--colour-matrix</span> <span class="parameter">TID:n</span></td>
                  <td>
                     
                     <p>
                        设置视频从红绿蓝三原色衍生出亮度及色度值所用的矩阵系数。参数 <span class="parameter">n</span> 是范围从
                        <span class="constant">0</span> 到 <span class="constant">10</span> 的整数。
                        
                     </p>
                     
                     
                     <p>
                        有效的值及其含义如下:
                        
                     </p>
                     
                     
                     <p>
                        <span class="constant">0</span>: GBR, <span class="constant">1</span>: BT709,
                        <span class="constant">2</span>: unspecified, <span class="constant">3</span>: reserved,
                        <span class="constant">4</span>: FCC, <span class="constant">5</span>: BT470BG,
                        <span class="constant">6</span>: SMPTE 170M, <span class="constant">7</span>: SMPTE 240M,
                        <span class="constant">8</span>: YCOCG, <span class="constant">9</span>: BT2020 非恒定亮度,
                        <span class="constant">10</span>: BT2020 恒定亮度
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--colour-bits-per-channel</span> <span class="parameter">TID:n</span></td>
                  <td>
                     
                     <p>
                        设置颜色通道编码位数。数值 <span class="constant">0</span> 表示位数未指定。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--chroma-subsample</span> <span class="parameter">TID:水平,垂直</span></td>
                  <td>
                     
                     <p>
                        对 Cr 与 Cb 通道中未移除的像素，水平/垂直方向需要移除的像素数量。
                        
                     </p>
                     
                     
                     <p>
                        例如: 对于色度抽样为 4:2:0 的视频，该参数应设为
                        <span class="code"><span class="parameter">TID</span>:<span class="constant">1</span>,<span class="constant">1</span></span>。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--cb-subsample</span> <span class="parameter">TID:水平,垂直</span></td>
                  <td>
                     
                     <p>
                        对 Cb 通道中未移除的像素，水平/垂直方向需要移除的像素数量。该数值将与 <span class="option">--chroma-subsample</span>
                        相加。
                        
                     </p>
                     
                     
                     <p>
                        例如: 对于色度抽样为 4:2:1 的视频，参数 <span class="option">--chroma-subsample</span> 应设为
                        <span class="code"><span class="parameter">TID</span>:<span class="constant">1</span>,<span class="constant">0</span></span>，Cb
                        抽样应设为
                        <span class="code"><span class="parameter">TID</span>:<span class="constant">1</span>,<span class="constant">0</span></span>。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--chroma-siting</span> <span class="parameter">TID:水平,垂直</span></td>
                  <td>
                     
                     <p>
                        设置色度在水平/垂直方向上如何抽样 (<span class="constant">0</span>: 未指定, <span class="constant">1</span>:
                        顶部/左侧合并, <span class="constant">2</span>: 对半)。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--colour-range</span> <span class="parameter">TID:n</span></td>
                  <td>
                     
                     <p>
                        设置色域裁剪 (<span class="constant">0</span>: 未指定, <span class="constant">1</span>: 广播色域,
                        <span class="constant">2</span>: 完整色域 (无裁剪), <span class="constant">3</span>: 由
                        MatrixCoefficients/TransferCharacteristics 指定)。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--colour-transfer-characteristics</span>
                     <span class="parameter">TID:n</span></td>
                  <td>
                     
                     <p>
                        视频的传输特征。
                        
                     </p>
                     
                     
                     <p>
                        有效的值及其含义如下:
                        
                     </p>
                     
                     
                     <p>
                        <span class="constant">0</span>: 保留, <span class="constant">1</span>: ITU-R BT.709,
                        <span class="constant">2</span>: unspecified, <span class="constant">3</span>: 保留,
                        <span class="constant">4</span>: gamma 2.2 曲线, <span class="constant">5</span>: gamma 2.8 曲线,
                        <span class="constant">6</span>: SMPTE 170M, <span class="constant">7</span>: SMPTE 240M,
                        <span class="constant">8</span>: 线性, <span class="constant">9</span>: 对数,
                        <span class="constant">10</span>: 对数平方根, <span class="constant">11</span>: IEC 61966-2-4,
                        <span class="constant">12</span>: ITU-R BT.1361 extended colour gamut,
                        <span class="constant">13</span>: IEC 61966-2-1, <span class="constant">14</span>: ITU-R
                        BT.2020 10 bit, <span class="constant">15</span>: ITU-R BT.2020 12 bit,
                        <span class="constant">16</span>: SMPTE ST 2084, <span class="constant">17</span>: SMPTE ST
                        428-1; <span class="constant">18</span>: ARIB STD-B67 (HLG)
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--colour-primaries</span> <span class="parameter">TID:n</span></td>
                  <td>
                     
                     <p>
                        设置视频的颜色基准。
                        
                     </p>
                     
                     
                     <p>
                        有效的值及其含义如下:
                        
                     </p>
                     
                     
                     <p>
                        <span class="constant">0</span>: 保留, <span class="constant">1</span>: ITU-R BT.709,
                        <span class="constant">2</span>: 未指定, <span class="constant">3</span>: 保留,
                        <span class="constant">4</span>: ITU-R BT.470M, <span class="constant">5</span>: ITU-R
                        BT.470BG, <span class="constant">6</span>: SMPTE 170M, <span class="constant">7</span>: SMPTE
                        240M, <span class="constant">8</span>: FILM, <span class="constant">9</span>: ITU-R BT.2020,
                        <span class="constant">10</span>: SMPTE ST 428-1, <span class="constant">22</span>: JEDEC P22
                        磷光体
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--max-content-light</span> <span class="parameter">TID:n</span></td>
                  <td>
                     
                     <p>
                        设置单个像素的最高亮度 (Maximum Content Light Level 最大内容亮度级别)，单位为坎德拉每平方米 (cd/m²)。数值
                        <span class="parameter">n</span> 应为非负整数。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--max-frame-light</span> <span class="parameter">TID:n</span></td>
                  <td>
                     
                     <p>
                        设置单个完整帧的最高亮度 (Maximum Frame-Average Light Level 最大帧平均亮度级别)，单位为坎德拉每平方米
                        (cd/m²)。数值 <span class="parameter">n</span> 应为非负整数。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--chromaticity-coordinates</span>
                     <span class="parameter">TID:red-x,red-y,green-x,green-y,blue-x,blue-y</span></td>
                  <td>
                     
                     <p>
                        设置 CIE 1931 定义的红/绿/蓝色度坐标。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--white-colour-coordinates</span> <span class="parameter">TID:x,y</span></td>
                  <td>
                     
                     <p>
                        设置 CIE 1931 定义的白色色度坐标。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--max-luminance</span> <span class="parameter">TID:浮点数</span></td>
                  <td>
                     
                     <p>
                        设置最高亮度，单位为坎德拉每平方米 (cd/m²)。数值应小于 9999.99。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--min-luminance</span> <span class="parameter">TID:浮点数</span></td>
                  <td>
                     
                     <p>
                        设置最低亮度，单位为坎德拉每平方米 (cd/m²)。数值应小于 999.9999。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--projection-type</span> <span class="parameter">TID:方式</span></td>
                  <td>
                     
                     <p>
                        设置要使用的视频投影方式。有效值包括：0 (方形投影), 1 (等距圆柱投影), 2 (立方面投影), 3 (网状投影)。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--projection-private</span> <span class="parameter">TID:数据</span></td>
                  <td>
                     
                     <p>
                        设置仅用于特定投影方式的私有数据。数据格式为十六进制数字，可以有 "0x" 前缀，可以有空格。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--projection-pose-yaw</span> <span class="parameter">TID:浮点数</span></td>
                  <td>
                     
                     <p>
                        设置投影的水平平面旋转（yaw，上下轴不动）。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--projection-pose-pitch</span> <span class="parameter">TID:浮点数</span></td>
                  <td>
                     
                     <p>
                        设置投影的上下旋转（pitch，左右轴不动）。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--projection-pose-roll</span> <span class="parameter">TID:浮点数</span></td>
                  <td>
                     
                     <p>
                        设置投影的垂直平面旋转（roll，前后轴不动）。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.field_order"><span class="option">--field-order</span> <span class="parameter">TID:n</span></a></td>
                  <td>
                     
                     <p>
                        设置轨道 ID 为 <span class="parameter">TID</span> 的视频轨道的场序。场序必须为以下数字之一:
                        
                     </p>
                     
                     
                     <p>
                        <span class="constant">0</span>: 逐行扫描; <span class="constant">1</span>: 隔行扫描，顶场先显示，顶场先存储;
                        <span class="constant">2</span>: 未定场序; <span class="constant">6</span>: 隔行扫描，底场先显示，底场先存储;
                        <span class="constant">9</span>: 隔行扫描，底场先显示，顶场先存储; <span class="constant">14</span>:
                        隔行扫描，顶场先显示，底场先存储
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--stereo-mode</span> <span class="parameter">TID:n|关键词</span></td>
                  <td>
                     
                     <p>
                        设置轨道 ID 为 <span class="parameter">TID</span> 的轨道的立体模式。 模式可以为介于
                        <span class="constant">0</span> 与 <span class="constant">14</span> 的数字
                        <span class="parameter">n</span> 或这些关键词之一:
                        
                     </p>
                     
                     
                     <p>
                        '<span class="literal">mono</span>'、'<span class="literal">side_by_side_left_first</span>'、'<span class="literal">top_bottom_right_first</span>'、'<span class="literal">top_bottom_left_first</span>'、'<span class="literal">checkerboard_right_first</span>'、'<span class="literal">checkerboard_left_first</span>'、'<span class="literal">row_interleaved_right_first</span>'、'<span class="literal">row_interleaved_left_first</span>'、'<span class="literal">column_interleaved_right_first</span>'、'<span class="literal">column_interleaved_left_first</span>'、'<span class="literal">anaglyph_cyan_red</span>'、'<span class="literal">side_by_side_right_first</span>'、'<span class="literal">anaglyph_green_magenta</span>'、'<span class="literal">both_eyes_laced_left_first</span>'、'<span class="literal">both_eyes_laced_right_first</span>'。
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e4275">2.9. 仅适用于文本字幕轨道的选项</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.sub_charset"><span class="option">--sub-charset</span> <span class="parameter">TID:字符集</span></a></td>
                  <td>
                     
                     <p>
                        为指定轨道 ID 指定所用字符集，用以转为 UTF-8 编码的 UTF-8 字幕。如果未指定字符集，则将根据当前区域设置推算字符集。注意对于从
                        <span class="productname">Matroska</span><sup>(tm)</sup> 文件或 Kate 流中读取的字幕不必指定字符集，因为在这些格式中已使用 UTF-8 编码储存。关于 <span class="productname">mkvmerge</span>(1)
                        如何在字符集间进行转换的说明请参见关于 <a href="#mkvmerge.text_files_and_charsets">
                           文本文件与字符集</a> 的段落。
                        
                     </p>
                     
                     
                     <p>
                        此选项可以对同一输入文件多次使用，通过每次选择不同轨道 ID 分别应用到多个轨道。
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e4315">2.10. 其他选项</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.identify"><span class="option">-i</span>, <span class="option">--identify</span> <span class="parameter">文件名</span></a></td>
                  <td>
                     
                     <p>
                        将使 <span class="productname">mkvmerge</span>(1) 探查单个文件并报告其类型、文件中包含的轨道及其轨道 ID。如果使用了本选项，唯一可用的其他选项就是文件名。
                        
                     </p>
                     
                     
                     <p>结果的输出格式可以通过 <a href="#mkvmerge.description.identification_format">--identification-format</a>
                        选项修改。
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.identify_json"><span class="option">-J</span> <span class="parameter">文件名</span></a></td>
                  <td>
                     
                     <p>
                        等同于“<span class="literal">--identification-format json --identify 文件名</span>”的简便写法。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.identification_format"><span class="option">-F</span>, <span class="option">--identification-format</span>
                        <span class="parameter">格式</span></a></td>
                  <td>
                     
                     <p>
                        决定 <a href="#mkvmerge.description.identify">--identify
                           选项</a>使用的输出格式。支持下列格式: <span class="literal">text</span> (文本，未使用该选项时的默认值) 以及
                        <span class="literal">json</span>。
                        
                     </p>
                     
                     
                     <ol>
                        
                        <li>
                           
                           <p><span class="literal">text</span> 格式简短且适合人类阅读。每项 (容器、轨道、附件等) 占一行。
                           </p>
                           
                           
                           <p>该格式不应该用来解析。输出内容会翻译为 <span class="productname">mkvmerge</span>(1) 所使用的语言 (参见 <a href="#mkvmerge.description.ui_language">--ui-language</a>)。
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              <span class="literal">json</span> 格式输出机器可读的 JSON 表达式。此格式遵循该文件所描述的 JSON 规范：
                              
                           </p>
                           
                           
                           <p>
                              <a href="https://mkvtoolnix.download/doc/mkvmerge-identification-output-schema-v11.json">mkvmerge-identification-output-schema-v11.json</a>
                              
                           </p>
                           
                           
                           <p>
                              所有版本的 JSON 规范可在线获取，也可在发布的源码压缩包中找到。
                              
                           </p>
                           
                        </li>
                        
                     </ol>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.probe_range_percentage"><span class="option">--probe-range-percentage</span> <span class="parameter">百分比</span></a></td>
                  <td>
                     
                     <p>
                        部分文件类型，如 MPEG 节目流及传输流
                        (<span class="literal">.vob</span>、<span class="literal">.m2ts</span>)，需要解析一定量的数据，方可侦测出文件中所包含的所有轨道。该数据量为输入文件大小的
                        0.3% 或 10 MB，取其中较高者。
                        
                     </p>
                     
                     
                     <p>
                        如果已知轨道存在，但未能找到，可以通过本选项更改探测百分比。 最小值 10 MB 为内置参数，无法更改。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-l</span>, <span class="option">--list-types</span></td>
                  <td>
                     
                     <p>
                        列出受支持的输入文件类型。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.list_languages"><span class="option">--list-languages</span></a></td>
                  <td>
                     
                     <p>
                        列出所有语言及其 ISO639-2 代码，这些代码可以在 <a href="#mkvmerge.description.language">--language</a>
                        选项中使用。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--priority</span> <span class="parameter">优先级</span></td>
                  <td>
                     
                     <p>
                        设置 <span class="productname">mkvmerge</span>(1) 运行时的进程优先级。有效的值为 '<span class="literal">lowest（最低）</span>',
                        '<span class="literal">lower（较低）</span>', '<span class="literal">normal（普通）</span>',
                        '<span class="literal">higher（较高）</span>' 与
                        '<span class="literal">highest（最高）</span>'。如果未予设定，则使用
                        '<span class="literal">normal（普通优先级）</span>'。在 类-Unix 系统中 <span class="productname">mkvmerge</span>(1) 将使用
                        <a href="http://linux.die.net/man/2/nice"><span class="productname">nice</span>(2)</a>
                        功能。因此只有超级用户才能使用 '<span class="literal">higher（较高优先级）</span>' 与
                        '<span class="literal">highest（最高优先级）</span>'。对于 Windows 用户来说所有值都可用。
                        
                     </p>
                     
                     
                     <p>选择'<span class="literal">lowest</span>' 不仅使用尽可能低的进程优先级，还会让 <span class="productname">mkvmerge</span>(1) 选择空闲 I/O 优先级。
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.command_line_charset"><span class="option">--command-line-charset</span> <span class="parameter">字符集</span></a></td>
                  <td>
                     
                     <p>
                        设定在命令行给出的字符串的字符集，用于转为其他字符集。默认为系统当前区域设置中所给定的字符集。此设置将应用到以下选项的变量: <a href="#mkvmerge.description.title">--title</a>、<a href="#mkvmerge.description.track_name">--track-name</a>
                        及 <a href="#mkvmerge.description.attachment_description">--attachment-description</a>。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.output_charset"><span class="option">--output-charset</span> <span class="parameter">字符集</span></a></td>
                  <td>
                     
                     <p>
                        设置输出的字符串应被转换到何种字符集。默认为系统当前区域设置中所给定的字符集。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.redirect_output"><span class="option">-r</span>, <span class="option">--redirect-output</span>
                        <span class="parameter">文件名</span></a></td>
                  <td>
                     
                     <p>
                        将所有信息输出至文件 <span class="parameter">文件名</span> 而不是在命令行显示。
                        尽管该操作可以用输出重定向轻松实现，但在某些情况下还需要靠它：如当终端在写入文件之前重新解释（覆盖输出）时。 将优先使用通过 <a href="#mkvmerge.description.output_charset">--output-charset</a>
                        设定的字符集。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.flush_on_close"><span class="option">--flush-on-close</span></a></td>
                  <td>
                     
                     <p>
                        让程序在关闭以写入模式打开的文件时，强制将内存中已缓存的所有数据写入到存储设备。可用于在电源中断时避免数据损失，或规避操作系统或驱动程序的特定问题。缺点是混流耗时更长，因为
                        mkvmerge 在退出前需要等待所有数据写入存储设备。关于优劣的深入讨论，请参见 MKVToolNix bug 跟踪平台中的问题 #2469 与问题
                        #2480。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.ui_language"><span class="option">--ui-language</span> <span class="parameter">语言代码</span></a></td>
                  <td>
                     
                     <p>
                        强制使用 <span class="parameter">语言代码</span> 所对应的翻译 (例如  '<span class="literal">de_DE</span>'
                        表示德文翻译)。在 <span class="parameter">语言代码</span> 处输入 '<span class="literal">list</span>'
                        可让程序输出可用翻译的列表。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.abort_on_warnings"><span class="option">--abort-on-warnings</span></a></td>
                  <td>
                     
                     <p>
                        让程序在出现警告时即中止。程序的退出代码将返回 1。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.debug"><span class="option">--debug</span> <span class="parameter">主题</span></a></td>
                  <td>
                     
                     <p>
                        为特定功能开启调试。该选项仅对开发者有用。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.engage"><span class="option">--engage</span> <span class="parameter">功能</span></a></td>
                  <td>
                     
                     <p>
                        开启实验性功能。可用功能列表可通过 <span class="command">mkvmerge --engage list</span>
                        得到。这些功能在正常情况下不应该使用。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.gui_mode"><span class="option">--gui-mode</span></a></td>
                  <td>
                     
                     <p>
                        打开 GUI 模式。该模式下，将输出特殊格式的行，告知目前受控的 GUI
                        的行为。这些消息遵从格式「<span class="literal">#GUI#消息</span>」。消息可能包括键值对，如「<span class="literal">#GUI#消息#键1=值1#键2=值2…</span>」。消息内容及键的内容不作翻译，总是以英语输出。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">@</span><span class="parameter">选项文件.json</span></td>
                  <td>
                     
                     <p>
                        从文件 <span class="parameter">选项文件</span> 读取其他命令行参数。更多信息请参见关于 <a href="#mkvmerge.option_files">选项文件</a> 的段落。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--capabilities</span></td>
                  <td>
                     
                     <p>
                        列出编译时附加的可选功能并退出。输出信息的第一行是版本信息。接下来的每行包含一个单词，各单词的出现意味着编译时附加了相应功能。这些功能包括：
                        
                     </p>
                     
                     
                     <ul>
                        
                        <li>
                           
                           <p>
                              '<span class="literal">FLAC</span>' -- 读取原始 <span class="abbrev">FLAC</span> 文件，以及处理其他容器中的
                              <span class="abbrev">FLAC</span> 轨道，例如 <span class="productname">Ogg</span><sup>(tm)</sup> 或 <span class="productname">Matroska</span><sup>(tm)</sup>
                              容器中的。
                              
                           </p>
                           
                        </li>
                        
                     </ul>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-h</span>, <span class="option">--help</span></td>
                  <td>
                     
                     <p>
                        显示用法信息并退出。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-V</span>, <span class="option">--version</span></td>
                  <td>
                     
                     <p>
                        显示版本信息并退出。
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         <h1><a name="mkvmerge.usage">3. 用法</a></h1>
         
         
         <p>
            用户可以选择各文件中 <span class="productname">mkvmerge</span>(1) 应该使用的轨道。它们都将被封装到 <span class="option">-o</span> 所指定的文件中。可通过
            <span class="option">-l</span> 选项获取已知（且受支持的）输入格式列表。
            
         </p>
         
         
         <div class="important">
            <p class="important-title">Important:</p>
            
            <p>
               命令行选项的顺序很重要。若您对程序还不熟悉，请阅读 <a href="#mkvmerge.option_order">"选项顺序"</a> 段落。
               
            </p>
            
         </div>
         
         <h1><a name="mkvmerge.option_order">4. 选项顺序</a></h1>
         
         
         
         <p>
            输入选项的顺序对一些选项很重要。选项可归为两类:
            
         </p>
         
         
         <ol>
            
            <li>
               
               <p>
                  影响整个程序的选项不与任何输入文件有关。这些选项包括但不限于
                  <span class="option">--command-line-charset</span>、<span class="option">--output</span> 或
                  <span class="option">--title</span>。这些选项可在命令行的任意位置出现。
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  影响单个输入文件或输入文件中的单个轨道的选项。这些选项均应用到命令行中接着的输入文件。所有应用到同一输入文件（或其轨道）的选项可以以任意顺序书写，只要都出现在该输入文件名之前。应用到输入文件的选项如
                  <span class="option">--no-chapters</span> 或
                  <span class="option">--chapter-charset</span>。应用到单个轨道的选项如
                  <span class="option">--default-duration</span> 或 <span class="option">--language</span>。
                  
               </p>
               
            </li>
            
         </ol>
         
         
         <p>
            选项从左向右处理。如果同一个选项在同一范围内出现多次，将使用最后一次给出的参数。因此在下面的例子中，标题将被设为 "其他东东":
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 输出.mkv --title '这个内个' input.avi --title '其他东东'</pre>
         
         <p>
            下面的例子中可以两次使用 <span class="option">--language</span> 选项，因为在不同范围内使用。尽管应用到同一轨道
            ID，但应用到的是不同的输入文件，因此属于不同范围:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 输出.mkv --language 0:fre 法语.ogg --language 0:deu 德语.ogg</pre>
         <h1><a name="mkvmerge.examples">5. 示例</a></h1>
         
         
         <p>
            假定您有个名为 我的影片.avi 的文件，以及分开存放的音频轨如 '<span class="literal">我的影片.wav</span>'。您希望先将音频编码为
            <span class="productname">OggVorbis</span><sup>(tm)</sup>:
            
         </p>
         
         <pre class="screen">$ oggenc -q4 -o 我的影片.ogg 我的影片.wav</pre>
         
         <p>
            几分钟后您就可以合并视频和音频了:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 我的有声影片.mkv 我的影片.avi 我的影片.ogg</pre>
         
         <p>
            如果您的 <span class="abbrev">AVI</span> 文件已经含有一条音频轨，则将同时复制该轨道（只要 <span class="productname">mkvmerge</span>(1)
            支持该音频格式）。要避免此状况，只需要这样
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 我的有声影片.mkv -A 我的影片.avi 我的影片.ogg</pre>
         
         <p>
            又过了几分钟，您又制作了另一条音频轨，如 导演评论或者是另一种语言的配音，您生成的文件名是
            '<span class="literal">我影片的另一音轨.wav</span>'。 再进行一次编码操作，然后将其合并:
            
         </p>
         
         <pre class="screen">$ oggenc -q4 -o我影片的另一音轨 我影片的另一音轨.wav
$ mkvmerge -o 影片-成品.mkv 我的有声影片.mkv 我影片的另一音轨.ogg</pre>
         
         <p>
            照下面的做法结果相同
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 我的影片-成品.mkv -A 我的影片.avi 我的影片.ogg 我影片的另一音轨.ogg</pre>
         
         <p>
            现在开启 <span class="productname">mplayer</span><sup>(tm)</sup> 尽情享受吧。如果您有多条音频轨（或者甚至是视频轨），那么您可以通过
            '<span class="option">-vid</span>' 与 '<span class="option">-aid</span>' 选项告诉
            <span class="productname">mplayer</span><sup>(tm)</sup> 应该播放哪些轨道。这些是基础功能，不区分视频与音频。
            
         </p>
         
         
         <p>
            如果您需要同步音频轨，会非常容易。首先找清 Vorbis 轨道的轨道 ID
            
         </p>
         
         <pre class="screen">$ mkvmerge --identify 错开了的.ogg</pre>
         
         <p>
            现在您可以在下述命令行中使用该 ID:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 同步了的.mkv -A 源.avi -y 12345:200 错开了的.ogg</pre>
         
         <p>
            这将在 '<span class="literal">错开了的.ogg</span>' 中 ID 为 <span class="constant">12345</span>
            的音频轨的开头添加 200ms 的静音。
            
         </p>
         
         
         <p>
            有些影片在开头同步正常，但音画同步会慢慢偏离开。对此类影片您可以指定延时系数，该系数将被应用到所有时间戳 --
            不添加或移除任何数据。因此如果您所设定的系数过大或过小会造成很糟糕的结果。例如我转码的一期节目有 <span class="constant">77340</span>
            帧长，在结尾处有 <span class="constant">0.2</span> 秒的同步偏离。在 <span class="constant">29.97fps</span>
            帧率下大约是每 <span class="constant">6</span> 帧错开 <span class="constant">0.2</span> 秒。于是我这样操作
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 同步了的.mkv -y 23456:0,77346/77340 错开了的.mkv</pre>
         
         <p>
            搞定了。
            
         </p>
         
         
         <p>
            同步选项对字幕同样起作用。
            
         </p>
         
         
         <p>
            对于文本字幕，您既可以选用一些 Windows 软件（如 <span class="productname">SubRipper</span><sup>(tm)</sup>）或
            '<span class="literal">contrib/subrip</span>' 目录
            <a href="http://linux.die.net/man/1/transcode"><span class="productname">transcode</span>(1)</a>
            的源码中的 <span class="productname">subrip</span><sup>(tm)</sup> 包。大体过程是这样的:
            
         </p>
         
         
         <ol>
            
            <li>
               
               <p>从输入文件中提取原始字幕流:</p>
               <pre class="screen">$ tccat -i /DVD/文件/的/路径/ -T 1 -L | tcextract -x ps1 -t vob -a 0x20 | subtitle2pgm -o 我的影片</pre>
               </li>
            
            
            <li>
               
               <p>使用 gocr 将生成的 PGM 图像转为文本:</p>
               <pre class="screen">$ pgm2txt mymovie</pre>
               </li>
            
            
            <li>
               
               <p>对生成的文本文件进行拼写检查:</p>
               <pre class="screen">$ ispell -d american *txt</pre>
               </li>
            
            
            <li>
               
               <p>将文本文件转为 SRT 文件:</p>
               <pre class="screen">$ srttool -s -w -i mymovie.srtx -o mymovie.srt</pre>
               </li>
            
         </ol>
         
         
         <p>
            这样生成的文件可用作 <span class="productname">mkvmerge</span>(1) 的输入文件:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 我的影片.mkv 我的影片.avi 我的影片.srt</pre>
         
         <p>
            如果您希望为指定轨道指定语言，这将很容易完成。首先找到您所需语言的 ISO639-2 代码。<span class="productname">mkvmerge</span>(1) 会为您列出所有代码:
            
         </p>
         
         <pre class="screen">$ mkvmerge --list-languages</pre>
         
         <p>
            在列表中找到您所需的语言。假定您已在 <span class="productname">Matroska</span><sup>(tm)</sup> 文件中放入两条音轨，并希望设置它们的语言代码，两条轨道的轨道 ID 为 2 和
            3。可以这样操作
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 含语言代码的.mkv --language 2:ger --language 3:dut 无语言代码的.mkv</pre>
         
         <p>
            如您所见，<a href="#mkvmerge.description.language">--language</a>
            开关可多次使用。
            
         </p>
         
         
         <p>
            或许您还想让荷兰语作为默认语言。您还有其他语言的字幕，如英语和法语的，并希望让播放器默认显示法语字幕。可以这样操作
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 含语言代码的.mkv --language 2:ger --language 3:dut --default-track 3 无语言代码的.mkv --language 0:eng 英语.srt --default-track 0 --language 0:fre 法语.srt</pre>
         
         <p>
            如果您在 <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a> 的输出信息中没找到您指定的语言或默认轨标记，请参阅关于 <a href="#mkvmerge.default_values">默认值</a> 的段落。
            
         </p>
         
         
         <p>
            关闭针对某输入文件的压缩。
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 无压缩.mkv --compression -1:none 我的影片.avi --compression -1:none 我的影片.srt</pre>
         
         <h1><a name="mkvmerge.track_ids">6. 轨道 ID</a></h1>
         
         
         
         <h2><a name="mkvmerge.track_ids.regular_ids">6.1. 常规轨道 ID</a></h2>
         
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) 的一些选项要求提供轨道 ID 以指定应应用到的轨道。 当读取器分离当前输入文件时，或者使用 <a href="#mkvmerge.description.identify">--identify</a>
            选项调用 <span class="productname">mkvmerge</span>(1) 时这些轨道 ID 会被显示出来。此类输出的一个示例：
            
         </p>
         
         <pre class="screen">$ mkvmerge -i v.mkv
文件 'v.mkv': 容器: Matroska
轨道 ID 0: 视频 (V_MS/VFW/FOURCC, DIV3)
轨道 ID 1: 音频 (A_MPEG/L3)</pre>
         
         <p>
            不要混淆输出 MKV 文件时所分派的轨道 ID与输入文件的轨道 ID。只有输入文件的轨道 ID 可用于需要轨道 ID 值的选项。
            
         </p>
         
         
         <p>
            还需注意，每个输入文件有其自己的一组轨道 ID。因此通过 '<span class="literal">mkvmerge --identify</span>' 报告的文件
            '<span class="filename">文件1.扩展名</span>' 的轨道 ID 不随其他输入文件的数量或
            '<span class="filename">文件1.扩展名</span>' 所用到的位置变化。
            
         </p>
         
         
         <p>
            轨道 ID 通常这样分配：
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  <span class="abbrev">AVI</span> 文件: 视频轨 ID 为 0。音频轨的 ID 由 1 开始升序分配。
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <span class="abbrev">AAC</span>、<span class="abbrev">AC-3</span>、<span class="abbrev">MP3</span>、<span class="abbrev">SRT</span>
                  与 <span class="abbrev">WAV</span> 文件: 此类文件中唯一的 '轨道' 的 ID 为 0。
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  大多数其他文件: 轨道 ID 按在文件中被找到的顺序由 0 开始分配。
                  
               </p>
               
            </li>
            
         </ul>
         
         
         <p>
            使用轨道 ID 的选项的描述中均含有 '<span class="literal">TID</span>'。此外下列选项也使用轨道 ID:
            <span class="option">--audio-tracks</span>、<span class="option">--video-tracks</span>、<span class="option">--subtitle-tracks</span>、<span class="option">--button-tracks</span>
            以及 <span class="option">--track-tags</span>。
            
         </p>
         
         
         
         <h2><a name="mkvmerge.track_ids.special_ids">6.2. 特殊轨道 ID</a></h2>
         
         
         
         <p>
            一些 ID 具有特殊含义，不会出现在 id 输出结果中。
            
         </p>
         
         
         <p>
            特殊的轨道 ID '<span class="constant">-1</span>' 是个百搭号，它将使给定的开关应用到从输入文件中读到的所有轨道。
            
         </p>
         
         
         <p>
            特殊轨道 ID '<span class="constant">-2</span>' 指输入文件中的章节。目前只有 <span class="option">--sync</span>
            选项会用到此特殊 ID。<span class="option">--sync -2:…</span> 与 <span class="option">--chapter-sync …</span>
            等效。
            
         </p>
         
         
         <h1><a name="mkvmerge.text_files_and_charsets">7. 文本文件与字符集转换</a></h1>
         
         
         <div class="note">
            <p class="note-title">Note:</p>
            
            <p>
               此段落可应用到 MKVToolNix 中的所有程序，尽管该段仅提及了 <span class="productname">mkvmerge</span>(1)。
               
            </p>
            
         </div>
         
         
         <h2><a name="mkvmerge.text_files_and_charsets.introduction">7.1. 介绍</a></h2>
         
         
         <p>
            <span class="productname">Matroska</span><sup>(tm)</sup> 文件中的所有文本均使用 UTF-8 编码。这意味着 <span class="productname">mkvmerge</span>(1)
            需要将读取到的文本文件以及从命令行收到的文本从其他字符集转换为 UTF-8。相反，这意味着 <span class="productname">mkvmerge</span>(1) 的输出信息同样需要由 UTF-8
            转回原来的字符集，例如来自 <a href="#mkvmerge.description.ui_language">--ui-language</a>
            所选的非英语界面或来自 <span class="productname">Matroska</span><sup>(tm)</sup> 文件中的文本。
            
         </p>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) 根据是否有 <span class="foreignphrase">字节顺序标记</span> (英文缩写:
            <span class="abbrev">BOM</span>) 出现以及系统的当前区域来进行自动转换。如何根据区域推定字符集取决于 <span class="productname">mkvmerge</span>(1)
            所执行在的操作系统。
            
         </p>
         
         
         
         <h2><a name="mkvmerge.text_files_and_charsets.byte_order_markers">7.2. 字节序标记 (BOM)</a></h2>
         
         
         
         <p>
            以 BOM 开头的文本文件已经使用一种 UTF 模式编码。<span class="productname">mkvmerge</span>(1) 支持以下五种模式: UTF-8、UTF-16 小端序 及
            大端序、UTF-32 小端序 及 大端序。含 BOM 的文本文件将被自动转换为 UTF-8。对此类文件设定字符集的参数 (如 <a href="#mkvmerge.description.sub_charset">--sub-charset</a>)
            将被直接忽略，无通知。
            
         </p>
         
         
         
         <h2><a name="mkvmerge.text_files_and_charsets.unix">7.3. Linux 及类 Unix 系统，包括 Mac OS</a></h2>
         
         
         
         <p>
            在 类-Unix 系统 <span class="productname">mkvmerge</span>(1) 将使用
            <a href="http://linux.die.net/man/3/setlocale"><span class="productname">setlocale</span>(3)</a>
            系统指令，它将返回环境变量 <span class="varname">LANG</span>、<span class="varname">LC_ALL</span> 及
            <span class="varname">LC_CYPE</span>。输出的字符集通常是 UTF-8 或 ISO-8859-*
            家族之一，将被用于所有文本文件操作以及编码命令行上的字符串和输出到命令行。
            
         </p>
         
         
         
         <h2><a name="mkvmerge.text_files_and_charsets.windows">7.4. Windows</a></h2>
         
         
         
         <p>
            在 Windows 平台，用于转换文本文件的默认字符集由系统调用 <span class="function">GetACP()</span> 的结果决定。
            
         </p>
         
         
         <p>
            读取命令行参数通过 <span class="function">GetCommandLineW()</span> 函数完成，该函数所返回的已经是 Unicode
            字符串。因此选项 <span class="option">--command-line-charset</span> 在 Windows 平台是被忽略的。
            
         </p>
         
         
         <p>
            输出到控制台分为三种情况:
            
         </p>
         
         
         <ol>
            
            <li>
               
               <p>
                  若使用 <a href="#mkvmerge.description.redirect_output">--redirect-output</a>
                  选项重定向输出，则默认字符集为 UTF-8。可以通过 <a href="#mkvmerge.description.output_charset">--output-charset</a>
                  修改。
                  
               </p>
               
               
               <p>
                  若输出内容通过 <span class="command">cmd.exe</span> 自身重定向，例如 <span class="literal">mkvinfo 文件.mkv &gt;
                     info.txt</span>，则其字符集必为 UTF-8，且无法修改。
                  
               </p>
               
               
               <p>
                  否则 (直接写入控制台) 将使用 Windows 函数 <span class="function">WriteConsoleW()</span> 并忽略 <a href="#mkvmerge.description.output_charset">--output-charset</a>
                  选项。控制台应该能够输出已安装对应语言支持的所有 Unicode 字符 (如汉字在英文版 Windows 可能不会正常显示)。
                  
               </p>
               
            </li>
            
         </ol>
         
         
         
         <h2><a name="mkvmerge.text_files_and_charsets.options">7.5. 命令行选项</a></h2>
         
         
         
         <p>
            现有下述选项支持指定字符集:
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  <a href="#mkvmerge.description.sub_charset">--sub-charset</a>
                  用于文本字幕文件以及存储于字符集含糊的容器格式（如 Ogg 文件）中的文本字幕轨,
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <a href="#mkvmerge.description.chapter_charset">--chapter-charset</a>
                  用于章节文本文件以及存储于字符集含糊的容器格式（如 Ogg 文件的章节信息，轨道和文件标题等；MP4 文件的章节信息）中的章节和文件标题,
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <a href="#mkvmerge.description.command_line_charset">--command-line-charset</a>
                  用于所有命令行上的字符串,
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <a href="#mkvmerge.description.output_charset">--output-charset</a>
                  所有写入控制台的或通过 <a href="#mkvmerge.description.redirect_output">--redirect-output</a>
                  选项重定向到文件的字符串的输出字符集。非 Windows 系统下，默认的输出字符集为系统的当前字符集。在 Windows 平台，默认为
                  UTF-8，包括通过 <a href="#mkvmerge.description.redirect_output">--redirect-output</a>
                  的重定向以及 <span class="command">cmd.exe</span> 自身的重定向，如 <span class="literal">mkvinfo file.mkv &gt;
                     info.txt</span>。
                  
               </p>
               
            </li>
            
         </ul>
         
         
         <h1><a name="mkvmerge.option_files">8. 选项文件</a></h1>
         
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) 可从选项文件中读取额外的命令行参数。这样可以规避 shell 或操作系统在执行外部程序时的特定限制，如命令行长度的限制。
            
         </p>
         
         
         <p>
            包含 JSON 格式数据的选项文件。其内容必须为有效的 JSON 数组，数组元素只能为 JSON 字符串。文件编码必须为
            UTF-8。文件开头不需要有字节序标记 (<span class="foreignphrase">byte order
               marker</span>，<span class="abbrev">BOM</span>)，但即使有也没关系，会跳过它。
            
         </p>
         
         
         <p>
            在 JSON 内部转义特殊字符的规则请见官方 JSON 规范 <a href="https://tools.ietf.org/html/rfc7159">RFC 7159</a>。
            
         </p>
         
         
         <p>
            命令行“<span class="command">mkvmerge -o "我的文件.mkv" -A "一部影片.avi" 声音.ogg</span>”可以转换为下述
            JSON 选项文件，文件可以命名为“<span class="filename">选项.json</span>”:
            
         </p>
         
         <pre class="programlisting">[
  "-o",
  "c:\\Matroska\\我的文件.mkv",
  "--title",
  "#65",
  "-A",
  "一部影片.avi",
  "声音.ogg"
]</pre>
         <h1><a name="mkvmerge.subtitles">9. 字幕</a></h1>
         
         
         <p>
            可在 <span class="productname">Matroska</span><sup>(tm)</sup> 文件中嵌入多种文本和位图字幕格式。文本字幕必须重新编码为 UTF-8 以确保播放器能准确显示（关于 <span class="productname">mkvmerge</span>(1)
            如何在字符集间进行转换的说明请参见关于 <a href="#mkvmerge.text_files_and_charsets">
               文本文件与字符集</a> 的段落）。Kate 字幕已经是 UTF-8 编码，不需要重新编码。
            
         </p>
         
         
         <p>
            目前支持以下字幕格式:
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  Subtitle Ripper (SRT) 文件
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  Substation Alpha (SSA) / 高级 Substation Alpha 脚本 (ASS)
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  通用字幕格式 (USF) 文件
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  OggKate 流
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  VobSub 位图字幕文件
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  BluRay 光盘中的 PGS 位图字幕文件
                  
               </p>
               
            </li>
            
         </ul>
         
         <h1><a name="mkvmerge.file_linking">10. 文件链接</a></h1>
         
         
         <p>
            <span class="productname">Matroska</span><sup>(tm)</sup> 支持文件链接，即声明当前文件的前趋与后继文件是哪个文件。严谨地讲，被连接的不是文件而是 <span class="productname">Matroska</span><sup>(tm)</sup>
            剪辑。鉴于大多数文件只含有一个 <span class="productname">Matroska</span><sup>(tm)</sup> 剪辑，以下说明中将使用术语 '文件链接'，尽管 '剪辑链接' 更为贴切。
            
         </p>
         
         
         <p>
            各剪辑由唯一的 128 位宽的剪辑 UID 确定。此 UID 是由 <span class="productname">mkvmerge</span>(1) 自动创建的。链接主要通过将前后文件的剪辑 UID (英文缩写:
            <span class="abbrev">SID</span>) 置于剪辑头部信息中完成。<a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a> 会在找到 <span class="abbrev">SID</span> 时输出它们。
            
         </p>
         
         
         <p>
            如果文件被切割为多段，且启用了链接功能，则文件的时间戳不会重新从 0
            开始，而是会从上一个文件结束的地方继续计算。这样可以保留绝对时间，即使之前的文件不可用 (如进行流式处理时)。如果未使用链接功能，各文件的时间戳应从 0
            开始。<span class="productname">mkvmerge</span>(1) 默认不启用文件链接。如果您希望启用，可以通过 <span class="option">--link</span>
            选项打开。此选项仅当同时启用切割功能时有用。
            
         </p>
         
         
         <p>
            无论是否开启了切割功能，用户都可以让 <span class="productname">mkvmerge</span>(1) 将生成的文件与指定的 <span class="abbrev">SID</span> 建立链接。可通过
            <span class="option">--link-to-previous</span> 与 <span class="option">--link-to-next</span> 选项实现。
            这些选项只接受 <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a> 所输出的剪辑 <span class="abbrev">SID</span> 格式: 16 个
            <span class="constant">0x00</span> 与 <span class="constant">0xff</span> 之间的十六进制数，各数字带有
            '<span class="literal">0x</span>' 前缀，如 '<span class="code">0x41 0xda 0x73 0x66 0xd9 0xcf 0xb2 0x1e
               0xae 0x78 0xeb 0xb4 0x5e 0xca 0xb3 0x93</span>'。还可以选用另一种较短的格式: 16 个
            <span class="constant">0x00</span> 与 <span class="constant">0xff</span> 之间的十六进制数，无
            '<span class="literal">0x</span>' 前缀，无空格，如
            '<span class="code">41da7366d9cfb21eae78ebb45ecab393</span>'。
            
         </p>
         
         
         <p>
            如果启用了切割功能，第一个文件将与通过 <span class="option">--link-to-previous</span> 给定的
            <span class="abbrev">SID</span> 建立链接，而最后一个文件将与通过 <span class="option">--link-to-next</span> 给定的
            <span class="abbrev">SID</span> 建立链接。如果未启用切割功能，唯一的输出文件将同时与给定的两个 <span class="abbrev">SID</span>
            建立链接。
            
         </p>
         
         <h1><a name="mkvmerge.default_values">11. 默认值</a></h1>
         
         
         <p>
            <span class="productname">Matroska</span><sup>(tm)</sup> 规范提到，一些元素有其默认值。通常为了节省空间，如果一个元素的值等同于其默认值，它将不被写入文件。用户在 <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>
            的输出信息中可能发现缺失的元素有 <span class="parameter">语言</span> 和 <span class="parameter">默认轨标记</span>。
            <span class="parameter">语言</span> 的默认值是 English
            ('<span class="literal">eng</span>')，<span class="parameter">默认轨标记</span> 的默认值是
            <span class="parameter">true</span>。因此如果您对一条轨道应用选项 <span class="option">--language 0:eng</span>
            ，它将不在 <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a> 的输出信息中显示。
            
         </p>
         
         <h1><a name="mkvmerge.attachments">12. 附件</a></h1>
         
         
         <p>
            或许您希望将一些照片与您的 <span class="productname">Matroska</span><sup>(tm)</sup> 文件一起存放，或者您正在使用 <span class="abbrev">SSA</span> 字幕，需要一个非常稀有的特殊
            <span class="productname">TrueType</span><sup>(tm)</sup> 字体。这种情况下您可以将这些文件附加到 <span class="productname">Matroska</span><sup>(tm)</sup>
            文件中。它们不会被追加到文件当中，而是被嵌入到文件中。然后播放器就可以显示这些文件 (如 '照片' 一例) 或者用它们来渲染字幕 (如
            '<span class="productname">TrueType</span><sup>(tm)</sup> 字体' 一例)。
            
         </p>
         
         
         <p>
            这是关于如何在输出文件中附加照片和 <span class="productname">TrueType</span><sup>(tm)</sup> 字体的示例:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 输出.mkv -A 视频.avi 声音.ogg \
  --attachment-description "乐队与我在后台小聚" \
  --attachment-mime-type image/jpeg \
  --attach-file 乐队与我.jpg \
  --attachment-description "难得一见的绝美字体" \
  --attachment-mime-type application/octet-stream \
  --attach-file 超酷的字体.ttf</pre>
         
         <p>
            如果含有附件的 <span class="productname">Matroska</span><sup>(tm)</sup> 文件被用作输入文件，<span class="productname">mkvmerge</span>(1) 会将附件复制到新文件中。要复制哪些文件、不复制那些文件的选择可以通过
            <a href="#mkvmerge.description.attachments">--attachments</a>
            与 <a href="#mkvmerge.description.no_attachments">--no-attachments</a>
            选项修改。
            
         </p>
         
         <h1><a name="mkvmerge.chapters">13. 章节</a></h1>
         
         
         <p>
            <span class="productname">Matroska</span><sup>(tm)</sup> 章节系统比大家知道的旧系统—— <span class="abbrev">OGM</span> 中所使用的——更为强大。完整的规范可以在 <a href="http://www.matroska.org/">Matroska 网站</a> 找到。
            
         </p>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) 支持输入两种章节文件。第一种格式，叫作 '<span class="foreignphrase">简单章节格式</span>'，与
            <span class="abbrev">OGM</span> tools 所用的相同。第二种是基于 <span class="abbrev">XML</span> 的章节格式，它支持 <span class="productname">Matroska</span><sup>(tm)</sup> 的所有章节功能。
            
         </p>
         
         
         <h2><a name="mkvmerge.chapters.simple">13.1. 简单章节格式</a></h2>
         
         
         
         <p>
            此格式由成对的相继以 '<span class="literal">CHAPTERxx=</span>' 与
            '<span class="literal">CHAPTERxxNAME=</span>' 开头的行组成。单数行包含起始时间戳，而双数行包含标题。这是一个示例：
            
         </p>
         
         <pre class="screen">CHAPTER01=00:00:00.000
CHAPTER01NAME=导入部分
CHAPTER02=00:02:30.000
CHAPTER02NAME=宝宝准备摇
CHAPTER03=00:02:42.300
CHAPTER03NAME=宝宝摇屋子</pre>
         
         <p>
            <span class="productname">mkvmerge</span>(1) 将转换每两行为一个 <span class="productname">Matroska</span><sup>(tm)</sup>
            <span class="classname">章节单位（ChapterAtom）</span>。这种情况不会设定任何
            <span class="classname">章节轨道号（ChapterTrackNumber）</span>，也就是说所有章节被应用到文件的所有轨道。
            
         </p>
         
         
         <p>
            由于是文本文件，可能需要进行字符集转换。关于 <span class="productname">mkvmerge</span>(1) 如何在字符集间进行转换的说明请参见关于 <a href="#mkvmerge.text_files_and_charsets"> 文本文件与字符集</a> 的段落。
            
         </p>
         
         
         
         <h2><a name="mkvmerge.chapters.xml">13.2. 基于 XML 的章节格式</a></h2>
         
         
         <p>
            基于 <span class="abbrev">XML</span> 的章节格式看起来与这个示例类似：
            
         </p>
         
         <pre class="screen">&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
&lt;!DOCTYPE Chapters SYSTEM "matroskachapters.dtd"&gt;
&lt;Chapters&gt;
  &lt;EditionEntry&gt;
    &lt;ChapterAtom&gt;
      &lt;ChapterTimeStart&gt;00:00:30.000&lt;/ChapterTimeStart&gt;
      &lt;ChapterTimeEnd&gt;00:01:20.000&lt;/ChapterTimeEnd&gt;
      &lt;ChapterDisplay&gt;
        &lt;ChapterString&gt;短短的一节&lt;/ChapterString&gt;
        &lt;ChapterLanguage&gt;chi&lt;/ChapterLanguage&gt;
      &lt;/ChapterDisplay&gt;
      &lt;ChapterAtom&gt;
        &lt;ChapterTimeStart&gt;00:00:46.000&lt;/ChapterTimeStart&gt;
        &lt;ChapterTimeEnd&gt;00:01:10.000&lt;/ChapterTimeEnd&gt;
        &lt;ChapterDisplay&gt;
          &lt;ChapterString&gt;那短短的一节的一部分&lt;/ChapterString&gt;
          &lt;ChapterLanguage&gt;chi&lt;/ChapterLanguage&gt;
        &lt;/ChapterDisplay&gt;
      &lt;/ChapterAtom&gt;
    &lt;/ChapterAtom&gt;
  &lt;/EditionEntry&gt;
&lt;/Chapters&gt;</pre>
         
         <p>
            使用此格式可以做到三件简单章节格式做不到的事:
            
         </p>
         
         
         <ol>
            
            <li>
               <p>可以设置章节终止处的时间戳,</p>
            </li>
            
            <li>
               <p>章节可以嵌套,</p>
            </li>
            
            <li>
               <p>可以设置语言与国家。</p>
            </li>
            
         </ol>
         
         
         <p>
            mkvtoolnix 分发包的 <span class="filename">doc</span> 子目录包含了一些典型示例文件。
            
         </p>
         
         
         <p>
            下面列出的是支持的 XML 标签，其数据类型及有效值域:
            
         </p>
         
         <pre class="screen">Chapters (主)
  EditionEntry (主)
    EditionUID (无符号整数，有效值域: 1 &lt;= 值)
    EditionFlagHidden (无符号整数，有效值域: 0 &lt;= 值 &lt;= 1)
    EditionFlagDefault (无符号整数，有效值域: 0 &lt;= 值 &lt;= 1)
    EditionFlagOrdered (无符号整数，有效值域: 0 &lt;= 值 &lt;= 1)
    ChapterAtom (主)
      ChapterAtom (主)
      ChapterUID (无符号整数，有效值域: 1 &lt;= 值)
      ChapterTimeStart (无符号整数)
      ChapterTimeEnd (无符号整数)
      ChapterFlagHidden (无符号整数，有效值域: 0 &lt;= 值 &lt;= 1)
      ChapterFlagEnabled (无符号整数，有效值域: 0 &lt;= 值 &lt;= 1)
      ChapterSegmentUID (二进制，有效值域: 1 &lt;= 长度，以字节为单位)
      ChapterSegmentEditionUID (无符号整数，有效值域: 1 &lt;= 值)
      ChapterPhysicalEquiv (无符号整数)
      ChapterTrack (主)
        ChapterTrackNumber (无符号整数，有效值域: 1 &lt;= 值)
      ChapterDisplay (主)
        ChapterString (UTF-8 字符串)
        ChapterLanguage (UTF-8 字符串)
        ChapterCountry (UTF-8 字符串)
      ChapterProcess (主)
        ChapterProcessCodecID (无符号整数)
        ChapterProcessPrivate (二进制)
        ChapterProcessCommand (主)
          ChapterProcessTime (无符号整数)
          ChapterProcessData (二进制)</pre>
         
         
         <h2><a name="d4e6043">13.3. 一般性备注</a></h2>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) 切割文件时会同时适当调整章节。这意味着每个文件只包含应用到该文件的章节项，时间戳也将被调整到与各输出文件相匹配。
            
         </p>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) 能够从 <span class="productname">Matroska</span><sup>(tm)</sup> 输入文件中复制章节，除非使用 <a href="#mkvmerge.description.no_chapters">--no-chapters</a>
            选项明令禁用。来自各类来源 (<span class="productname">Matroska</span><sup>(tm)</sup> 文件、Ogg 文件、<span class="abbrev">MP4</span> 文件、章节文本文件)
            的章节通常不被合并，而是分成多个 <span class="classname">ChapterEditions（章节版本）</span>。仅当从多个
            <span class="productname">Matroska</span><sup>(tm)</sup> 或 <span class="abbrev">XML</span> 文件读取的章节具有相同的版本 UID 时，章节才会被合并为单个
            <span class="classname">ChapterEdition</span>。如果在其他情况下需要此类合并，用户需要先用 <a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a>
            从所有来源提取章节，手动合并 <span class="abbrev">XML</span> 文件然后再混流。
            
         </p>
         
         
         <h1><a name="mkvmerge.tags">14. 标签</a></h1>
         
         
         
         <h2><a name="d4e6108">14.1. 介绍</a></h2>
         
         
         
         <p>
            <span class="productname">Matroska</span><sup>(tm)</sup> 的标签系统与其他容器类似: 一组 <span class="parameter">键=值</span> 对。不过，<span class="productname">Matroska</span><sup>(tm)</sup>
            中的标签还可以嵌套，<span class="parameter">键</span> 与 <span class="parameter">值</span>
            都是属于它们自身的元素。示例文件 <span class="filename">example-tags-2.xml</span> 展示了如何使用该系统。
            
         </p>
         
         
         
         <h2><a name="mkvmerge.tags.scope">14.2. 标签细述</a></h2>
         
         
         
         <p>
            <span class="productname">Matroska</span><sup>(tm)</sup> 标签不会自动应用到整个文件上。它们可以应用到整个文件，还可以应用到文件的不同部分: 一个或多个轨道, 一个或多个章节,
            甚至是两者的组合。<a href="http://matroska.org/technical/specs/index.html">Matroska 规范</a>
            有这方面的更多详情。
            
         </p>
         
         
         <p>
            重要的一点是标签通过 <span class="classname">Targets</span> <span class="productname">Matroska</span><sup>(tm)</sup> 标签元素与轨道或章节相连，而用于此链接的
            UID <em>并非</em> <span class="productname">mkvmerge</span>(1) 常用的轨道 ID。而是 <span class="productname">mkvmerge</span>(1) 自动计算而来 (当轨道来自非
            <span class="productname">Matroska</span><sup>(tm)</sup> 文件时) 或当轨道输入文件是 <span class="productname">Matroska</span><sup>(tm)</sup> 文件时复制而来的 的 UID。因此在文件被 <span class="productname">mkvmerge</span>(1)
            处理过之前很难知道应该在标签文件中使用哪些 UID。
            
         </p>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) 支持两个为 <span class="productname">Matroska</span><sup>(tm)</sup> 文件添加标签的选项: <a href="#mkvmerge.description.global_tags">--global-tags</a>
            与 <a href="#mkvmerge.description.tags">--tags</a>
            选项。不同之处在于前者，<a href="#mkvmerge.description.global_tags">--global-tags</a>，将通过移除上文提到的所有
            <span class="classname">Targets</span> 元素使标签应用到整个文件。 而后者，<a href="#mkvmerge.description.tags">--tags</a>，将使
            <span class="productname">mkvmerge</span>(1) 为通过 <a href="#mkvmerge.description.tags">--tags</a> 选项的
            <span class="parameter">TID</span> 部分指定的标签自动插入 UID。
            
         </p>
         
         
         
         <h2><a name="mkvmerge.tags.example">14.3. 示例</a></h2>
         
         
         <p>
            假定您希望为从一个 <span class="abbrev">AVI</span> 文件读取的视频轨道添加标签。<span class="command">mkvmerge --identify
               文件.avi</span> 告诉您该视频轨道的 ID (不要将此 ID 与 UID 混淆!) 为 0。于是您创建了一个标签文件，省去了所有
            <span class="classname">Targets</span> 元素，然后这样调用 <span class="productname">mkvmerge</span>(1):
            
         </p>
         
         <pre class="screen">$ mkvmerge -o 文件.mkv --tags 0:标签.xml 文件.avi</pre>
         
         
         <h2><a name="mkvmerge.tags.file_format">14.4. 标签文件格式</a></h2>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) 支持基于 <span class="abbrev">XML</span> 的标签文件格式。此格式是以 <a href="http://matroska.org/technical/specs/index.html">Matroska 规范</a>
            为依据严格制定的。MKVToolNix 的程序以及源码分发包都含有名为 <span class="filename">example-tags-2.xml</span>
            的示例文件，该文件已简明地列出了所有已知的可用作实际处理的基本标签。
            
         </p>
         
         
         <p>
            基本要点有：
            
         </p>
         
         
         <ul>
            
            <li>
               <p>最外层的元素必须为 <span class="classname">&lt;Tags&gt;</span>。
               </p>
            </li>
            
            <li>
               
               <p>实际意义上的标签放在 <span class="classname">&lt;Tag&gt;</span> <span class="abbrev">XML</span> 标签对中。
               </p>
               
            </li>
            
            <li>
               <p>标签内容前后的空白将被忽略。</p>
            </li>
            
         </ul>
         
         
         
         <h2><a name="mkvmerge.tags.data_types">14.5. 数据类型</a></h2>
         
         
         <p>
            新的 <span class="productname">Matroska</span><sup>(tm)</sup> 标签系统只识别两种数据类型，UTF-8 字串与二进制类型。前者用于标签名称和
            <span class="classname">&lt;String&gt;</span> 元素，而二进制类型用于
            <span class="classname">&lt;Binary&gt;</span> 元素。
            
         </p>
         
         
         <p>
            由于二进制数据自身与 <span class="abbrev">XML</span> 文件不相容，<span class="productname">mkvmerge</span>(1) 支持另两种储存二进制数据的方法。如果 <span class="abbrev">XML</span> 标签的内容以
            '<span class="literal">@</span>' 开头，则后续文本将被作为文件名对待。相应文件的内容将被复制到 <span class="productname">Matroska</span><sup>(tm)</sup> 元素中。
            
         </p>
         
         
         <p>
            还有一种可能，即数据经 <span class="foreignphrase">Base64</span> 编码。这是将二进制数据转换为一定的
            <span class="abbrev">ASCII</span> 字集字符，在电子邮件等程序中有所应用。<a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a> 将将二进制元素以
            <span class="foreignphrase">Base64</span> 编码的数据的形式输出。
            
         </p>
         
         
         <p>
            已被废弃的标签系统可识别更多的数据类型，这在 <span class="productname">Matroska</span><sup>(tm)</sup> 官方的标签规范中可以找到。由于 <span class="productname">mkvmerge</span>(1)
            不再支持此系统，此处不对这些类型作多余说明。
            
         </p>
         
         
         
         <h2><a name="mkvmerge.tags.xml">14.6. XML 文件格式的已知标签</a></h2>
         
         
         
         <p>
            下面列出的是支持的 XML 标签，其数据类型及有效值域:
            
         </p>
         
         <pre class="screen">Tags (主)
  Tag (主)
    Targets (主)
      TargetTypeValue (无符号整数)
      TargetType (UTF-8 字符串)
      TrackUID (无符号整数)
      EditionUID (无符号整数)
      ChapterUID (无符号整数)
      AttachmentUID (无符号整数)
    Simple (主)
      Simple (主)
      Name (UTF-8 字符串)
      TagLanguage (UTF-8 字符串)
      DefaultLanguage (无符号整数)
      String (UTF-8 字符串)
      Binary (二进制)</pre>
         
         <h1><a name="mkvmerge.segmentinfo">15. 剪辑信息 XML 文件</a></h1>
         
         
         
         <p>
            可以通过剪辑信息 XML 文件设置 <span class="productname">Matroska</span><sup>(tm)</sup> 文件 "剪辑信息"
            头部字段的特定值。所有这些值都无法通过其他命令行选项设置。
            
         </p>
         
         
         <p>
            还有一些 "剪辑信息" 头部字段可以通过命令行选项设置，而非通过 XML 文件。包括如 <span class="option"><a href="#mkvmerge.description.title">--title</a></span> 及 <span class="option"><a href="#mkvmerge.description.timestamp_scale">--timestamp-scale</a></span>
            选项。
            
         </p>
         
         
         <p>
            还有其他元素既不能通过命令行选项，也不能通过 XML 文件设置。这些包括下述元素: <span class="varname">DateUTC</span> (即
            "混流时间")、混流应用程序 <span class="varname">MuxingApp</span>、写入库
            <span class="varname">WritingApp</span> 及 总时长 <span class="varname">Duration</span>。这些元素均由
            <span class="productname">mkvmerge</span>(1) 自行设置。
            
         </p>
         
         
         <p>
            下面列出的是支持的 XML 标签，其数据类型及有效值域:
            
         </p>
         
         <pre class="screen">Info (主)
  SegmentUID (二进制，有效值域: 长度（字节） == 16)
  SegmentFilename (UTF-8 字符串)
  PreviousSegmentUID (二进制，有效值域: 长度（字节） == 16)
  PreviousSegmentFilename (UTF-8 字符串)
  NextSegmentUID (二进制，有效值域: 长度（字节） == 16)
  NextSegmentFilename (UTF-8 字符串)
  SegmentFamily (二进制，有效值域: 长度（字节） == 16)
  ChapterTranslate (主)
    ChapterTranslateEditionUID (无符号整数)
    ChapterTranslateCodec (无符号整数)
    ChapterTranslateID (二进制)</pre>
         <h1><a name="mkvmerge.file_layout">16. Matroska 文件规划</a></h1>
         
         
         <p>
            <span class="productname">Matroska</span><sup>(tm)</sup> 文件规划非常灵活。<span class="productname">mkvmerge</span>(1) 将按预先定义的方式渲染文件。生成的文件是这样的：
            
         </p>
         
         
         <p>
            [EBML 头] [剪辑 {元定位 #1} [剪辑信息] [轨道信息] {附件} {章节} [簇 1] {簇 2} ...  {簇 n} {索引}
            {元定位 #2} {标签}]
            
         </p>
         
         
         <p>
            大括号中的元素是可选的，依所用的内容和选项而定。有两点要注意的：
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  元定位 #1 只包含很少量的 level 1 元素，且仅当它们存在时才包含：附件、章节、索引、标签以及元定位 #2。较早版本的 <span class="productname">mkvmerge</span>(1)
                  亦曾将簇放置在元定位元素中。因此应留给不精确的传言一些空间——真相总会大白。 现在只有簇才被储存在元定位 #2 中，元定位 #1 将引用元定位元素
                  #2。
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>附件、章节和标签元素仅当被添加后才会出现。</p>
               
            </li>
            
         </ul>
         
         
         <p>
            允许的最精简的 <span class="productname">Matroska</span><sup>(tm)</sup> 文件是像这样的：
            
         </p>
         
         
         <p>
            [EBML 头] [剪辑 [剪辑信息] [轨道信息] [簇 1]]
            
         </p>
         
         
         <p>
            这也是纯音频文件的样子。
            
         </p>
         
         <h1><a name="mkvmerge.external_timestamp_files">17. 外部时间戳文件</a></h1>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) 允许用户为各轨道选择特定的时间戳。这可用来创建包含可变帧率视频或音频中有空隙的文件。这种情况下的帧是 <span class="productname">mkvmerge</span>(1) 创建各
            <span class="productname">Matroska</span><sup>(tm)</sup> 块的单位。对视频来说恰好是一帧，对音频来说是相应音频类型的一个数据包。例如对 <span class="abbrev">AC-3</span>
            来说是包含 <span class="constant">1536</span> 采样的一个数据包。
            
         </p>
         
         
         <p>
            用于轨道追加合并的时间戳必须只指定给一系列（同一）轨道的第一部分。例如当您追加合并两个文件，v1.avi 与
            v2.avi，且希望使用时间戳时，您的命令行必须像这样组织：
            
         </p>
         
         <pre class="screen">$ mkvmerge ... --timestamps 0:我的时间戳.txt v1.avi +v2.avi</pre>
         
         <p>
            <span class="productname">mkvmerge</span>(1) 可识别四种格式的时间戳。版本号在时间戳文件的第一行内。空行，只含有空格的行，以及以 '<span class="literal">#</span>'
            开头的行在处理时将被忽略。
            
         </p>
         
         
         <h2><a name="d4e6560">17.1. 时间戳文件格式 v1</a></h2>
         
         
         <p>
            此格式的第一行是版本声明。第二行则声明默认的帧率。 接下来的各行包含由逗号分隔的三个数字: 起始帧（<span class="constant">0</span>
            代表第一帧）、终止帧以及此范围内的帧率。<span class="abbrev">FPS（帧率）</span> 为浮点数，小数点用
            '<span class="literal">.</span>' 表示。各行定义的范围间可以有间隔，间隔内将使用默认的 <span class="abbrev">FPS</span>。一个示例：
            
         </p>
         
         <pre class="screen"># timestamp format v1
assume 27.930
800,1000,25
1500,1700,30</pre>
         
         
         <h2><a name="d4e6584">17.2. 时间戳文件格式 v2</a></h2>
         
         
         
         <p>
            此格式中每行包含相应帧的时间戳。此时间戳必须以毫秒为精度。可以使浮点数，但不强求。您指定的时间戳行数 <em>必须</em>
            不少于对应轨道的帧数。此类文件中的时间戳必须经过排序。 以 25fps 为例：
            
         </p>
         
         <pre class="screen"># timestamp format v2
0
40
80</pre>
         
         
         <h2><a name="d4e6599">17.3. 时间戳文件格式 v3</a></h2>
         
         
         <p>
            此格式中各行包含时长（秒数），后接（可选）帧率。 二者均可为浮点数。 如果未提供帧率，则采用默认的帧率。
            对于音频，您应当让编解码器自行计算各帧的时间戳。 这样您应当使用 <span class="constant">0.0</span> 作为帧率。 您可以使用
            '<span class="literal">gap</span>' 关键词后接空隙时长在流中创建空隙。 以音频文件为例：
            
         </p>
         
         <pre class="screen"># timestamp format v3
assume 0.0
25.325
7.530,38.236
gap, 10.050
2.000,38.236</pre>
         
         
         <h2><a name="d4e6617">17.4. 时间戳文件格式 v4</a></h2>
         
         
         <p>
            此格式与 v2 格式相似。 唯一的不同在于时间戳不必经过排序。 通常不应使用此格式。
            
         </p>
         
         
         <h1><a name="mkvmerge.exit_codes">18. 退出代码</a></h1>
         
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) 退出时会返回以下三个退出代码中的一个：
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  <span class="constant">0</span> -- 此退出代码说明已成功完成混流。
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <span class="constant">1</span> -- 这种情况下 <span class="productname">mkvmerge</span>(1) 至少输出了一条警告信息，但混流并未因之中止。 警告信息以文字
                  '<span class="literal">警告:</span>' 为前缀。根据问题的不同，生成的文件可能是好的，也可能不是。 强烈建议用户检查警告信息以及生成的文件。
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <span class="constant">2</span> -- 此退出代码用于错误发生之后。 <span class="productname">mkvmerge</span>(1)
                  在输出错误信息后即中断处理。错误信息可能是错误的命令行参数，也可能是损坏文件的读取/写入错误。
                  
               </p>
               
            </li>
            
         </ul>
         
         <h1><a name="mkvmerge.environment_variables">19. 环境变量</a></h1>
         
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) 会使用决定系统区域设置的默认变量 (如 <span class="varname">LANG</span> 与
            <span class="varname">LC_*</span> 族)。其他变量包括:
            
         </p>
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="varname">MKVMERGE_DEBUG</span>, <span class="varname">MKVTOOLNIX_DEBUG</span>
                     及其缩略形式 <span class="varname">MTX_DEBUG</span></td>
                  <td>
                     
                     <p>内容将被当作通过 <a href="#mkvmerge.description.debug">--debug</a>
                        选项传递的参数对待。
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="varname">MKVMERGE_ENGAGE</span>, <span class="varname">MKVTOOLNIX_ENGAGE</span>
                     及其缩略形式 <span class="varname">MTX_ENGAGE</span></td>
                  <td>
                     
                     <p>内容将被当作通过 <a href="#mkvmerge.description.engage">--engage</a>
                        选项传递的参数对待。
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         <h1><a name="mkvmerge.seealso">20. 参阅</a></h1>
         
         
         <p>
            <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>, <a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a>, <a href="mkvpropedit.html"><span class="productname">mkvpropedit</span>(1)</a>, <a href="mkvtoolnix-gui.html"><span class="productname">mkvtoolnix-gui</span>(1)</a>
            
         </p>
         
         <h1><a name="mkvmerge.www">21. 网络</a></h1>
         
         
         <p>
            最新版本总可以在 <a href="https://mkvtoolnix.download/">MKVToolNix 主页</a> 找到。
            
         </p>
         
      </div>
   </body>
</html>